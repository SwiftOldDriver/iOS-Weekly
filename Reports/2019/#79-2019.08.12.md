# è€å¸æœº iOS å‘¨æŠ¥ #79 | 2019-08-12

![ios-weekly](https://github.com/SwiftOldDriver/iOS-Weekly/blob/master/assets/ios-weekly.png?raw=true)
è€å¸æœº iOS å‘¨æŠ¥ï¼Œåªä¸ºä½ å‘ˆç°æœ‰ä»·å€¼çš„ä¿¡æ¯ã€‚

ä½ ä¹Ÿå¯ä»¥ä¸ºè¿™ä¸ªé¡¹ç›®å‡ºä¸€ä»½åŠ›ï¼Œå¦‚æœå‘ç°æœ‰ä»·å€¼çš„ä¿¡æ¯ã€æ–‡ç« ã€å·¥å…·ç­‰å¯ä»¥åˆ° [Issues](https://github.com/SwiftOldDriver/iOS-Weekly/issues) é‡Œæç»™æˆ‘ä»¬ï¼Œæˆ‘ä»¬ä¼šå°½å¿«å¤„ç†ã€‚è®°å¾—å†™ä¸Šæ¨èçš„ç†ç”±å“¦ã€‚æœ‰å»ºè®®å’Œæ„è§ä¹Ÿæ¬¢è¿åˆ° [Issues](https://github.com/SwiftOldDriver/iOS-Weekly/issues) æå‡ºã€‚

## æ–‡ç« 

### ğŸŒŸ ğŸ¢ [æŠ–éŸ³ç ”å‘å®è·µï¼šåŸºäºäºŒè¿›åˆ¶æ–‡ä»¶é‡æ’çš„è§£å†³æ–¹æ¡ˆ App å¯åŠ¨é€Ÿåº¦æå‡è¶… 15%](https://mp.weixin.qq.com/s/Drmmx5JtjG3UtTFksL6Q8Q)

[å«ç¬‘é¥®ç ’éœœ](https://weibo.com/chinafishnews/)ï¼šApp çš„å¯åŠ¨é€Ÿåº¦é€šå¸¸æ˜¯ App ç»™ç”¨æˆ·çš„ç¬¬ä¸€å°è±¡ï¼Œé‡è¦æ€§ä¸è¨€è€Œå–»ã€‚é™¤äº†ä¼ ç»Ÿçš„é€šè¿‡ä¿®æ”¹ä¸šåŠ¡ä»£ç çš„æ–¹å¼ï¼ŒæŠ–éŸ³ iOS å®¢æˆ·ç«¯å›¢é˜Ÿï¼Œå¼€æ‹“æ€§çš„å‘ç°é€šè¿‡ä¿®æ”¹ä»£ç åœ¨äºŒè¿›åˆ¶æ–‡ä»¶çš„å¸ƒå±€å¯ä»¥æé«˜å¯åŠ¨æ€§èƒ½ã€‚

æœ¬æ–‡ä»åŸç†å‡ºå‘ï¼Œä»‹ç»äº†æŠ–éŸ³ iOS å®¢æˆ·ç«¯å›¢é˜Ÿæ˜¯å¦‚ä½•é€šè¿‡é™æ€æ‰«æå’Œè¿è¡Œæ—¶ trace æ‰¾åˆ°å¯åŠ¨æ—¶è°ƒç”¨çš„å‡½æ•°ï¼Œç„¶åä¿®æ”¹ç¼–è¯‘å‚æ•°å®ŒæˆäºŒè¿›åˆ¶æ–‡ä»¶çš„é‡æ–°æ’å¸ƒã€‚ç›¸ä¿¡åœ¨æœªæ¥ï¼ŒäºŒè¿›åˆ¶æ–‡ä»¶é‡æ’ä¹Ÿä¼šæœ‰æ›´å¤šåº”ç”¨åœºæ™¯ã€‚

>  æœ€è¿‘ Facebook ä¹Ÿåœ¨ä¸€ä¸ªæŠ€æœ¯å¤§ä¼šä¸Šåˆ†äº«äº†ç±»ä¼¼çš„å†…å®¹ï¼Œå¼ºçƒˆæ¨è: [è§†é¢‘](https://www.facebook.com/atscaleevents/videos/664302790740440/)

### ğŸŒŸ ğŸ [swift-corelibs-foundation Release Notes for Swift 5.x](https://github.com/apple/swift-corelibs-foundation/blob/master/Docs/ReleaseNotes_Swift5.md)

[@äº«è€³å…ˆæ£®](https://github.com/iblacksun)ï¼Œ[@è€é©´](https://github.com/olddonkey)ï¼š

Swift å¼€æºç‰ˆçš„ Foundation åœ¨ Swift 5.x æœ‰äº†ä¸å°çš„æ”¹åŠ¨ï¼š

1. ä¾èµ–ï¼š

    Swift å¼€æºç‰ˆçš„ Foundation åˆç‰ˆå®ç°å¤§é‡åœ°ä½¿ç”¨äº†å¼€æºåº“ï¼Œè¿™æ¬¡åœ¨æ–°ç‰ˆæœ¬ä¸­æ•´ç†äº†ä¸€ä¸‹å¼€æºåº“çš„ä¾èµ–ï¼Œå¹¶ä¸”æŠŠä¹‹å‰çš„ Foundation æ‹†åˆ†æˆäº†ä¸‰ä¸ªåº“ï¼š
    
    * Foundation
    * FoundationXMLï¼šè€ƒè™‘åˆ°å¤§éƒ¨åˆ†äººä¸ä¼šä½¿ç”¨ XML ç›¸å…³çš„åŠŸèƒ½ï¼Œæ‰€ä»¥é€šè¿‡ FoundationXML å°† libxml2 çš„ä¾èµ–ä» Foundation é‡Œæ‹†äº†å‡ºæ¥ã€‚
    * FoundationNetworkï¼šå°† URLSession ç›¸å…³çš„ç½‘ç»œè¯·æ±‚ API æ‹†äº†å‡ºæ¥ã€‚
    
    FoundationNetwork çš„æƒ…å†µæ¯”è¾ƒå¤æ‚ä¸€ç‚¹ï¼Œä¹‹å‰è®ºå›é‡Œçš„è‰æ¡ˆ Pitch: Move URLSession to new FoundationNetworking module æ¯”è¾ƒè¯¦å°½åœ°ä»‹ç»è¿™ä¸€æ¬¡çš„æ”¹åŠ¨ã€‚
    
    Foundation ç½‘ç»œåº“ä½¿ç”¨çš„ [libcurl](https://forums.swift.org/t/pitch-move-urlsession-to-new-foundationnetworking-module/14002) å¸¦æ¥äº†å¤ªå¤šå­ä¾èµ–ï¼Œä¸€éƒ¨åˆ†ç”šè‡³å’Œ SwiftNIO çš„ä¾èµ–äº§ç”Ÿäº†å†²çªï¼Œå¹¶ä¸”å¼€å‘ç»„å¸Œæœ›ä½¿ç”¨ SwiftNIO ä½œä¸º URLSession çš„åº•å±‚å®ç°ï¼Œè¿™ä¸€æ¬¡æ”¹åŠ¨ä¹‹åä¾èµ–é“¾å°±å˜æˆäº† FoundationNetwork -> SwiftNIO -> Foundationã€‚

2. Objective-C Runtime ä»¿çœŸï¼š

    Foundation ä¸º Swift for Linux æä¾›äº†æ¨¡æ‹Ÿä»¿çœŸéƒ¨åˆ† Objective-C æ–¹æ³•ã€‚ç°åœ¨ï¼ŒSwift 5.1 ä¸­ä¹Ÿå¯ä»¥ç”¨è¿™æ ·çš„æ–¹æ³•äº†ï¼š
    
    ``` swift
    let someClass = NSClassFromString("NSTask")
    assert(someClass == Process.self)
    let someName = NSStringFromClass(someClass)
    assert(someName == "NSTask")
    ```

3. NSCoder çš„æ”¹è¿›ï¼š

    è¿™ä¸ªç‰ˆæœ¬çš„ Swift Foundation ä¸­æ”¹è¿›äº† `NSCoder` çš„å…·ä½“å®ç°ï¼Œè®©å®ƒèƒ½æ›´æ¥è¿‘ Darwin ä¸­å¯¹åº”çš„éƒ¨åˆ†ã€‚

4. NSSortDescriptor çš„æ”¹åŠ¨ï¼š

    ç°åœ¨ï¼Œåœ¨ Swift Foundation ä¸­åŒ…å«äº† `NSSortDescriptor` çš„å®ç°ï¼ŒåŒæ—¶å®ƒä¸ Objective-C ä¸­å¯¹åº”éƒ¨åˆ†å…¼å®¹ã€‚å› ä¸ºæœ‰éƒ¨åˆ†çš„ API æ”¹åŠ¨ï¼Œæ‰€ä»¥æ¨èæœ‰ç”¨åˆ° `NSSortDescriptor` çš„å¼€å‘è€…çœ‹ä¸€ä¸‹å¯¹åº”çš„æ–‡æ¡£ã€‚

5. å…¶ä»–æ”¹åŠ¨ï¼š
    Scanner API æ”¹è¿›ï¼Œç°åœ¨ä¸å†éœ€è¦åš Casting äº†ï¼Œæ›´åŠ ç¬¦åˆ Swift çš„è¯­æ³•ä¹ æƒ¯ã€‚FileHandle API æ”¹è¿›ï¼Œä¸»è¦æ˜¯é’ˆå¯¹ NSError å˜åŒ–ä¸Šçš„å˜åŠ¨ï¼Œèƒ½å¤ŸæŠ›å‡º Error è€Œéç›´æ¥ Crash äº†ã€‚

### ğŸ¢ [7000 ä¸ªæœªè§£å†³ issueï¼ŒFlutter çœ‹èµ·æ¥å¾ˆå¥½ï¼Œç”¨èµ·æ¥æŒºç–¼](https://mp.weixin.qq.com/s/EAgzYQX5-4pu7HWaGwK7Ag)

[@CrazyCoderShi](https://github.com/CrazyCoderShi)ï¼šFlutter è‡ªå‘å¸ƒä»¥åï¼Œå›½å†…å¤–éƒ½æ€èµ·äº† Flutter çš„å­¦ä¹ çƒ­æ½®ï¼Œå…¶ä¸­è¤’è´¬ä¸ä¸€ï¼Œæœ¬æ–‡ä½œè€…åˆ†äº«äº†ä¸€äº›è‡ªå·±åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­çš„ä¸€äº›å¿ƒå¾—å’Œä½“ä¼š(åæ§½ğŸ˜‚)ï¼Œå¥½äº†å…ˆå¼€å§‹åæ§½ï¼š

- å®‰è£…è¿‡ç¨‹å¾ˆæ¼«é•¿
- ä¸€å›¢ç³Ÿçš„ Material Design
- å…¶ä»–çƒ¦å¿ƒäº‹ (è¿™é‡Œé¢åŒ…æ‹¬äº†ä¸€äº›ç»„å»ºçš„ Bug)

ç›®å‰ Flutter åœ¨ GitHub ä¸Šæœ‰è¶…è¿‡ 7000 ä¸ª issues æœªè§£å†³ï¼Œè¿™ä¸ªæ•°å­—çœŸçš„å¾ˆå“äººã€‚å°ç¼–æœ¬äººä¹‹å‰ä¹Ÿç”¨ Flutter å¼€å‘è¿‡ App ï¼Œæˆ‘ä¹Ÿè¶ç€è¿™æ³¢åæ§½ä¸€ä¸‹ğŸ˜‚ï¼Œå› ä¸ºé—®é¢˜è¿œä¸æ­¢ Bernardo Ferrari è¯´çš„é‚£äº›ï¼š

- è·Ÿç°æœ‰é¡¹ç›®æ··å’Œå¼€å‘ä½“éªŒæå·®
- PlatformView çš„è¡¨ç°ç›¸å½“å·®å¼ºäººæ„ï¼Œç‰¹åˆ«æ˜¯åœ¨ iOS ä¸Š
- ç”Ÿæ€å‘å±•æ¬ ç¼ºçš„è¿˜æ˜¯æ¯”è¾ƒå¤šçš„

ç•¥å¾®åšä¸ªæ€»ç»“ï¼Œæ•´ä½“æ¥çœ‹é—®é¢˜çœŸçš„å¾ˆå¤šï¼Œä½†æ˜¯ Flutter è‡ªå‘å¸ƒ 1.0.0 ä»¥æ¥è¿˜ä¸åˆ°ä¸€å¹´ï¼Œå‘å±•é€Ÿåº¦å·²ç»æ˜¯å¾ˆå¿«äº†ï¼Œæœ‰ä¸è¶³ä¹‹å¤„ï¼Œä½†ä¹Ÿæœ‰ä¸å°‘æƒŠè‰³ä¹‹å…‰ï¼Œä¸ç„¶å›½å†…çš„å¤§å‚ä¹Ÿä¸ä¼šçº·çº·éƒ½åœ¨å¸ƒå±€ Flutter æŠ€æœ¯çš„è½åœ°ï¼Œå…¶ä¸­èµ°åœ¨æœ€å‰é¢çš„å’¸é±¼ï¼Œæƒ³å¿…å¤§å®¶éƒ½æ˜¯çŸ¥é“çš„ã€‚æ‰€ä»¥ï¼Œå°ç¼–è§‰å¾—ï¼Œä¸ç®¡ä»å“ªä¸ªè§’åº¦æ¥çœ‹ï¼Œéƒ½æ˜¯ä¸€ä¸ªå€¼å¾—å°è¯•å’Œå­¦ä¹ çš„æŠ€æœ¯æ ˆï¼Œæ¯•ç«ŸæŠ€å¤šä¸å‹èº«ä¸æ˜¯ï¼Ÿ

> è¡¥å……ä¸‹åŸæ–‡é“¾æ¥ï¼š[Flutter looks good, but is painful. Here are my frustrations with it.](https://medium.com/@bernaferrari/from-android-dev-flutter-looks-good-but-is-painful-here-are-my-frustrations-with-it-81b4bbe739f8)ã€‚

### ğŸ [SwiftPreview](https://forums.swift.org/t/pitch-standard-library-preview-package/27202)

æ ¸å¿ƒå¼€å‘ç»„å‘äº†ä¸€ä»½è‰æ¡ˆï¼Œå†…å®¹æ˜¯æ–°å¢ä¸€ä¸ªå¼€æºåº“ SwiftPreview ï¼Œç”¨æ¥é¢„å‘å¸ƒä¸€äº› non-breaking çš„ API æ”¹åŠ¨ã€‚

ä»¥å¾€æ‰€æœ‰ææ¡ˆéƒ½å¿…é¡»èµ¶ä¸ŠåŠå¹´ä¸€è¶Ÿè½¦çš„ release æ‰èƒ½å‘å¸ƒå‡ºæ¥ï¼Œä½†è¿™å¯¹äºç›¸å½“ä¸€éƒ¨åˆ†ææ¡ˆéƒ½æ˜¯éå¿…è¦çš„ï¼Œå¦‚æœå‘å¸ƒåéœ€è¦è°ƒæ•´æˆ–è€…ä¿®æ”¹é‚£å°±åˆæ˜¯åŠå¹´ï¼Œä¾‹å¦‚ [SE-199 Bool å¼•å…¥ Toggle æ–¹æ³•](https://github.com/apple/swift-evolution/blob/master/proposals/0199-bool-toggle.md)ï¼Œåœ¨å®¡æ ¸é€šè¿‡ä¹‹åå…­ä¸ªæœˆæ‰åœ¨ Swift 5 å‘å¸ƒäº†å‡ºæ¥ã€‚

æ‰€ä»¥è¿™ä¸€æ¬¡ææ¡ˆæ˜¯æƒ³è¦åŠ å¿« Swift çš„ API è¿­ä»£é€Ÿåº¦ï¼Œå¯¹äºä¸€äº›ä¸éœ€è¦ç¼–è¯‘å™¨æ”¯æŒï¼Œéç ´åæ€§çš„åŠŸèƒ½éƒ½ä¼šè€ƒè™‘æå‰åœ¨ SwiftPreview é‡Œå‘å¸ƒä»¥ä¾›å¤§å®¶æå‰ä½¿ç”¨ï¼Œå°½æ—©æä¾›åé¦ˆã€‚

### ğŸ [SE-0261 Identifiable Protocol](https://github.com/apple/swift-evolution/blob/master/proposals/0261-identifiable.md)

[@Damonwong](https://github.com/Damonvvong)ï¼šåœ¨ SwiftUI ä¸­å¼•å…¥äº† Diff çš„æ¦‚å¿µã€‚æ„æ€å°±æ˜¯åœ¨ä¸€ä¸ªåˆ—è¡¨åˆ·æ–°çš„æ—¶å€™ï¼Œä¼šæ ¹æ®ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ç¬¦æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°æ¸²æŸ“ï¼Œå¦‚æœé€šè¿‡ Diff ç®—æ³•ç®—å¾—æŸä¸ªå”¯ä¸€æ ‡è¯†ç¬¦å¹¶æ²¡æœ‰å˜åŒ–ï¼Œé‚£ä¹ˆè¿™å—åŒºåŸŸå°±ä¸ä¼šé‡æ–°æ¸²æŸ“ã€‚è€Œåœ¨è¿™ä¸ªäº‹æƒ…ä¸­æœ€é‡è¦çš„å°±æ˜¯ã€Œå”¯ä¸€æ ‡è¯†ç¬¦ã€è¿™ä¸ªä¸œè¥¿äº†ï¼Œåœ¨ SwiftUI ä¸­é€šè¿‡ Identifiable æ¥çº¦æŸç±»å‹æ»¡è¶³å”¯ä¸€æ ‡è¯†ç¬¦è¿™ä¸ªæ¦‚å¿µã€‚å½“ç„¶ï¼Œå”¯ä¸€æ ‡è¯†ç¬¦ä¸ä»…ä»…å¯ä»¥ä½¿ç”¨åœ¨ Diff ç®—æ³•ä¸­ï¼Œè¿˜å¯ä»¥ç”¨åœ¨å¾ˆå¤šå…¶ä»–çš„åœ°æ–¹ï¼Œæ¯”å¦‚é€šè®¯å½•è”ç³»äººçš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚å› æ­¤åœ¨[Swift ç¤¾åŒºè®¨è®º](https://forums.swift.org/t/move-swiftuis-identifiable-protocol-and-related-types-into-the-standard-library/25713)ä¹‹åï¼Œå†³å®šæŠŠ Identifiable è¿™ä¸ªåè®®åŠ å…¥åˆ°æ ‡å‡†åº“ä¸­ï¼Œå¹¶åœ¨ Swift 5.1 å‘å¸ƒã€‚
    
### ğŸ [CocoaPods 1.8 Beta is Here!](http://blog.cocoapods.org/CocoaPods-1.8.0-beta/)

[@çº¢çº¸](https://github.com/nianran)ï¼šCocoapods 1.8.0 Beta ç‰ˆæ¥äº†ï¼æœ¬æ¬¡æ›´æ–°ä¸ºæˆ‘ä»¬å¸¦æ¥äº†å¦‚ä¸‹å†…å®¹ï¼š

1. Master Specs Repo é»˜è®¤æ”¹ä¸º CDNï¼Œæœ‰æ•ˆçš„åŠ å¿«åˆå§‹è®¾ç½®å’Œä¾èµ–åˆ†æé€Ÿåº¦
2. info_plist Podspec DSLï¼šåœ¨ä½¿ç”¨ use_frameworks! çš„åŠ¨æ€æ¡†æ¶ä¸­ï¼Œpod ç°åœ¨å¯ä»¥è‡ªåŠ¨ç”Ÿæˆ Info.plist æ–‡ä»¶ï¼Œå¹¶ä¸”ä½ å¯ä»¥åœ¨ podspec ä¸­ä½¿ç”¨é”®å€¼å¯¹æ¥ä¿®æ”¹ plist æ–‡ä»¶ä¸­å†…å®¹
3. project_name Podfile DSLï¼šåœ¨ 1.7 ç‰ˆæœ¬ï¼Œpod å¯ä»¥ç”Ÿæˆå¤š Project çš„ Pod åŠŸèƒ½ï¼Œåœ¨ 1.8 ä¸­å¯¹å…¶è¿›è¡Œäº†æ‰©å±•ï¼Œè‡ªå®šä¹‰å¤šä¸ª pod å¯åˆå¹¶æˆä¸€ä¸ª Project
4. UI Test Bundle Supportï¼šæ”¯æŒ UI æµ‹è¯•é¡¹ç›®çš„ç”Ÿæˆï¼Œä½ å¯ä»¥åœ¨ podspec ä¸­é€‰æ‹© :unit/:ui æ¥é…ç½®ï¼Œå…¶æµ‹è¯•çš„å·¥ç¨‹å¯ä»¥é€šè¿‡ app_host_name æ¥è¿›è¡Œè®¾ç½®

## å·¥å…·

### ğŸŒŸ [Auto Layout: WTF to FTW](https://www.rightpoint.com/rplabs/2019/06/wtf-auto-layout-for-ios-in-swift/)

[@looping](https://github.com/looping)ï¼š[WTF Auto Layout?](https://www.wtfautolayout.com/) æ˜¯ä¸€ä¸ªå¯ä»¥ç”¨æ¥è¾…åŠ©è°ƒè¯• Auto Layout é—®é¢˜çš„ç½‘ç«™ï¼Œå®ƒèƒ½å¤Ÿå¯¹æˆ‘ä»¬è°ƒè¯•åº”ç”¨æ—¶å‡ºç°çš„çº¦æŸæ­§ä¹‰ä¿¡æ¯è¿›è¡Œè§£æå¹¶å¯è§†åŒ–æ˜¾ç¤ºã€‚ä½†æ˜¯æˆ‘ä»¬éƒ½çŸ¥é“åœ¨è°ƒè¯•çš„æ—¶å€™å‡ºç° Auto Layout çº¦æŸæ­§ä¹‰æ˜¯ä¸å½±å“åº”ç”¨æ­£å¸¸è¿è¡Œçš„ï¼Œè¿™æ ·å½“æ‰“å°çš„æ—¥å¿—åå¤šçš„æ—¶å€™ï¼Œå°±å¾ˆéš¾åŠæ—¶å‘ç°è¿™ç±»æç¤ºã€‚å³ä½¿å‘ç°äº†ï¼Œè¿˜è¦æ‰‹åŠ¨å¤åˆ¶æç¤ºæ–‡æœ¬åˆ°ç½‘ç«™çš„è¾“å…¥æ¡†é‡Œï¼Œæ¯”è¾ƒéº»çƒ¦ã€‚æ‰€ä»¥æœ¬æ–‡å°±ä»‹ç»äº†é€šè¿‡åœ¨ Xcode é‡Œè®¾ç½® Symbolic Breakpointï¼Œå½“è°ƒè¯•åº”ç”¨æ—¶æœ‰è§¦å‘ `UIViewAlertForUnsatisfiableConstraints` å°±æ‰§è¡Œè‡ªå®šä¹‰çš„ Python è„šæœ¬ï¼Œè‡ªåŠ¨è·å–å’Œè§£ææ–­ç‚¹è°ƒè¯•çš„å…¥å‚ä¿¡æ¯å¹¶æ‰“å¼€ [WTF Auto Layout?](https://www.wtfautolayout.com/) è¿™ä¸ªç½‘ç«™ã€‚æƒ³æ—¶åˆ»ç›‘æ§ Auto Layout é—®é¢˜çš„åŒå­¦å¯ä»¥å°è¯•ä½“éªŒä¸‹è¿™ä¸ªå·¥å…·æµç¨‹ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä¼˜åŒ–ä¸‹å¹¶ä¸æ˜¯æ¯æ¬¡éƒ½æ‰“å¼€ç½‘ç«™ï¼Œè€Œæ˜¯å…ˆè®°å½•åˆ°æ–‡æœ¬ï¼Œå†æ‰¾ä¸ªæ—¶é—´è¿›è¡Œé›†ä¸­åˆ†æå¤„ç†ã€‚åŒæ—¶æ–‡ç« ä¹Ÿæ¶‰åŠäº†ä¸€äº›è°ƒè¯•æŠ€å·§ï¼Œå¯ä»¥å­¦ä¹ ä¸‹ã€‚

### [Swift API-Digester](https://github.com/apple/swift-nio/commit/07e7e01c76be20640ddc3770d7b16e87eedf20de)

[@äº«è€³å…ˆæ£®](https://github.com/iblacksun)ï¼šSwift 5.1 é‡Œæ–°å¢äº†ä¸€ä¸ª `api-digester` åŠŸèƒ½ï¼Œç”¨æ¥æ‰“å°å’Œæ¯”è¾ƒç¼–è¯‘äº§ç‰©çš„ APIï¼ŒSwift-NIO åœ¨æ­¤åŸºç¡€ä¸Šæ­å»ºäº†ä¸€ä¸ª API Diff åŠŸèƒ½ï¼Œå¯ä»¥é¢„è§æœªæ¥å¼€æºæ¡†æ¶éƒ½ä¼šä½¿ç”¨è¿™ä¸ªåŠŸèƒ½æ¥ç”Ÿæˆ API Diffï¼Œå¸®åŠ©æ£€éªŒ Pull Request å¯¹äº API çš„å½±å“ï¼ŒChangeLog çš„ç”Ÿæˆç­‰ç­‰ã€‚

ç”¨ç±»ä¼¼è¿™æ ·çš„å‘½ä»¤ï¼š`swift api-digester -diagnose-sdk --input-paths "dir1" -input-paths "dir2"` å°±èƒ½æ¯”è¾ƒä¸¤ä¸ªç¼–è¯‘äº§ç‰©çš„ API åŒºåˆ«ï¼Œç”Ÿæˆç±»ä¼¼ä¸‹é¢çš„ç»“æœï¼š

> Removed Decls
> Constructor WebSocketFrameDecoder.init(maxFrameSize:automaticErrorHandling:) has been removed
> EnumElement WebSocketOpcode.unknownControl has been removed
> EnumElement WebSocketOpcode.unknownNonControl has been removed

> Renamed Decls
> Func WebSocketFrameDecoder.decode(ctx:buffer:) has been renamed to Func WebSocketFrameDecoder.decode(context:buffer:)
> Func WebSocketFrameDecoder.decodeLast(ctx:buffer:) has been renamed to Func WebSocketFrameDecoder.decodeLast(context:buffer:seenEOF:)
> Func WebSocketFrameEncoder.write(ctx:data:promise:) has been renamed to Func WebSocketFrameEncoder.write(context:data:promise:)
> Func WebSocketProtocolErrorHandler.errorCaught(ctx:error:) has been renamed to Func WebSocketProtocolErrorHandler.errorCaught(context:error:)

> Type Changes
> Constructor UInt8.init(webSocketOpcode:) has return type change from UInt8? to UInt8

### [Matrix-iOS è€—ç”µç›‘æ§](https://mp.weixin.qq.com/s/HS4DJDpCS6uppQ9WmVR_Tg)

[JimQ](https://github.com/waz0820)ï¼šMatrix æ˜¯ä¸€æ¬¾å¾®ä¿¡å›¢é˜Ÿç ”å‘å¹¶æ—¥å¸¸ä½¿ç”¨çš„æ€§èƒ½æ¢é’ˆå·¥å…·ï¼Œ4 æœˆä»½å¼€æºï¼Œå½“æ—¶çš„ç›‘æ§èŒƒå›´åŒ…æ‹¬å´©æºƒã€å¡é¡¿å’Œçˆ†å†…å­˜ï¼Œç°åœ¨æ–°å¢äº†è€—ç”µç›‘æ§åŠŸèƒ½ã€‚
å®ç°åŸç†æ˜¯ï¼Œåœ¨åº”ç”¨å¯åŠ¨åå¼€å¯ä¸€ä¸ªæ£€æµ‹å­çº¿ç¨‹ï¼Œæ£€æµ‹çº¿ç¨‹ä¸æ–­å»è¯†åˆ«å‡ºå½“å‰åº”ç”¨å“ªä¸ªçº¿ç¨‹çš„ CPU å ç”¨è¿‡é«˜ï¼ˆé€šè¿‡ `thread_basic_info` è·å¾—ï¼‰ï¼Œå°†è€— CPU å¤šçš„çº¿ç¨‹çš„å †æ ˆï¼ˆä½¿ç”¨ `backtrace()` å‡½æ•°è·å–ï¼‰æ”¶é›†èµ·æ¥ã€‚å½“åº”ç”¨ CPU å ç”¨è¾¾åˆ°é˜ˆå€¼æ—¶ï¼Œè€—ç”µç›‘æ§å°†æ”¶é›†åˆ°çš„å †æ ˆç»„åˆï¼ˆæ¥åˆæˆè°ƒç”¨æ ‘ï¼Œå¹¶æ ‡è®°æ¯ä¸ªå‡½æ•°è¢«æ”¶é›†çš„æ¬¡æ•°ï¼‰å½¢æˆè€—ç”µå †æ ˆï¼ˆå‡½æ•°æ¬¡æ•°è¶Šå¤§ï¼Œæ‰€å ç”¨ CPU è¶Šå¤šï¼‰ã€‚

## ä»£ç 

### ğŸŒŸ [Swift-MemoryLayout](https://github.com/TannerJin/Swift-MemoryLayout)

[@å››å¨˜](https://kemchenj.github.io)ï¼šä½œè€…åœ¨å­¦ä¹  Swift å†…å­˜å¸ƒå±€çš„è¿‡ç¨‹ä¸­ï¼Œå†™äº†ä¸€ä¸ªç®€å•çš„ Demo æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨æŒ‡é’ˆå»è¯»å– Array / Dictionary å†…éƒ¨çš„å˜é‡ï¼Œè¿›ä¸€æ­¥éªŒè¯å„ç§ç±»å‹çš„å†…å­˜å¸ƒå±€ã€‚

è¿™ä¸ªé¡¹ç›®å¾ˆå¥½åœ°æ¼”ç¤ºäº† Swift é‡Œçš„æŒ‡é’ˆæ“ä½œï¼Œéå¸¸å€¼å¾—ä¸€çœ‹ï¼ï¼ï¼

### ğŸ• [CombineCocoa](https://github.com/freak4pc/CombineCocoa)

[@è€å³°](https://github.com/GesanTung)ï¼šCombineCocoa æ˜¯åŸºäº [Combine](https://developer.apple.com/videos/play/wwdc2019/722/) å¯¹  UIKit Controls çš„å°è£…ï¼Œç±»ä¼¼ RXcocoa å®ç°äº†è®¸å¤šç»„ä»¶çš„ç»‘å®šåŠŸèƒ½ï¼Œå¯ä»¥ç›´æ¥æŠŠå€¼å’Œæ§ä»¶äº’ç›¸ç»‘å®šï¼Œé¿å…é€šçŸ¥ã€ç›‘å¬ã€delegate ç­‰ï¼Œæå¤§çš„ç®€åŒ–äº† UI ç›¸å…³é€»è¾‘å¤„ç†ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š

- textField.textPublisher
- segmented.selectedSegmentIndexPublisher
- slider.valuePublisher
- button.tapPublisher
- swtch.isOnPublisher
- datePicker.datePublisher
- ...

### [CombineRxSwiftPerformance](https://github.com/quickbirdstudios/CombineRxSwiftPerformance)

[@é‚¦Ben](https://weibo.com/linwenbang)ï¼šè¿™ä¸ª Repo å¯¹æ¯”äº† Combine å’Œ RxSwift ç›®å‰å¸¸ç”¨æ–¹æ³•çš„æ€§èƒ½è¡¨ç°ï¼Œä½œä¸ºé€‰å‹èµ„æ–™å¯ä»¥çœ‹ä¸‹ã€‚

æœ€åç»“è®ºï¼ŒCombine é€Ÿåº¦æ›´å¿«ï¼Œå¹³å‡æ€§èƒ½æ¯” RxSwift é«˜å‡º41%ã€‚

![æµ‹è¯•ç»“è®º](https://user-gold-cdn.xitu.io/2019/8/12/16c83b285f096ee2?w=3469&h=1570&f=png&s=308546)

## å†…æ¨

è€å¸æœºå‘¨æŠ¥å›¢é˜Ÿè”åˆçŸ¥è¯†å°é›†å’Œ SwiftGG ç¿»è¯‘ç»„æ”¶å½•äº†ä¸€ä»½é è°±çš„å†…æ¨èŒä½ã€‚

å¦‚æœä½ æƒ³**æ‰¾å·¥ä½œ**ï¼Œç‚¹è¿™é‡Œï¼šhttps://www.yuque.com/iosalliance/article/bhutav

å¦‚æœä½ æƒ³**æ‹›äºº**ï¼Œç‚¹è¿™é‡Œï¼šhttps://www.yuque.com/iosalliance/article/ycyhf3

å½“ç„¶ï¼Œä¹Ÿæ¬¢è¿ä½ å…³æ³¨æˆ‘ä»¬æ¯ä¸€æœŸçš„å‘¨æŠ¥ï¼Œæˆ‘ä»¬ä¼šåœ¨æ¯æœŸå‘¨æŠ¥åº•éƒ¨åŠæ—¶æ›´æ–°ç¼–è¾‘å†…æ¨å²—ä½ã€‚

## å…³æ³¨æˆ‘ä»¬

æˆ‘ä»¬å¼€é€šäº†å…¬ä¼—å·ï¼Œæ¯æœŸå‘å¸ƒæ—¶å…¬ä¼—å·ï¼ˆOldDriverWeeklyï¼‰ä¼šæ¨é€æ¶ˆæ¯ï¼Œæ¬¢è¿å…³æ³¨ã€‚

![](https://github.com/SwiftOldDriver/iOS-Weekly/blob/master/assets/qrcode_for_wechat.jpg?raw=true)

åŒæ—¶ä¹Ÿæ”¯æŒäº† RSS è®¢é˜…ï¼šhttps://github.com/SwiftOldDriver/iOS-Weekly/releases.atom ã€‚

## è¯´æ˜

ğŸš§ è¡¨ç¤ºéœ€ç¿»å¢™ï¼ŒğŸŒŸ è¡¨ç¤ºç¼–è¾‘æ¨è

é¢„è®¡é˜…è¯»æ—¶é—´ï¼šğŸ å¾ˆå¿«å°±èƒ½è¯»å®Œï¼ˆ1 - 10 minsï¼‰ï¼›ğŸ• ä¸­ç­‰ ï¼ˆ10 - 20 minsï¼‰ï¼›ğŸ¢ æ…¢ï¼ˆ20+ minsï¼‰
