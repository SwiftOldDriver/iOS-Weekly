# è€å¸æœº iOS å‘¨æŠ¥ #254 | 2023-07-31

![ios-weekly](https://github.com/SwiftOldDriver/iOS-Weekly/blob/master/assets/weekly-header/254.png?raw=true)
è€å¸æœº iOS å‘¨æŠ¥ï¼Œåªä¸ºä½ å‘ˆç°æœ‰ä»·å€¼çš„ä¿¡æ¯ã€‚

ä½ ä¹Ÿå¯ä»¥ä¸ºè¿™ä¸ªé¡¹ç›®å‡ºä¸€ä»½åŠ›ï¼Œå¦‚æœå‘ç°æœ‰ä»·å€¼çš„ä¿¡æ¯ã€æ–‡ç« ã€å·¥å…·ç­‰å¯ä»¥åˆ° [Issues](https://github.com/SwiftOldDriver/iOS-Weekly/issues) é‡Œæç»™æˆ‘ä»¬ï¼Œæˆ‘ä»¬ä¼šå°½å¿«å¤„ç†ã€‚è®°å¾—å†™ä¸Šæ¨èçš„ç†ç”±å“¦ã€‚æœ‰å»ºè®®å’Œæ„è§ä¹Ÿæ¬¢è¿åˆ° [Issues](https://github.com/SwiftOldDriver/iOS-Weekly/issues) æå‡ºã€‚

## æ–°é—»

### [List of APIs that require declared reasons now available ](https://developer.apple.com/news/?id=z6fu1dcu)

[@zoeGuo](https://github.com/zoeGuo)ï¼šè‹¹æœåœ¨ WWDC23 ä¸Šå‘å¸ƒäº†åº”ç”¨ç¨‹åºï¼ˆåŒ…æ‹¬ SDKï¼‰çš„æ–°éšç§æ”¿ç­–ï¼Œå¹¶æœ‰ [Get started with privacy manifests](https://developer.apple.com/videos/play/wwdc2023/10060/) çš„å•ç‹¬ä¸“é¢˜ã€‚7 æœˆ 27 æ—¥è‹¹æœå‘å¸ƒäº†æ­¤åˆ™æ–°é—»ï¼Œç§°ï¼š2023 å¹´ç§‹å­£å¼€å§‹ï¼Œå¦‚æœæ–°ä¸Šä¼ çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨äº†æ²¡æœ‰æä¾›éšç§æ¸…å•çš„ç›¸å…³ APIï¼Œé‚£ä¹ˆä½ å°†ä¼šæ”¶åˆ°ä¸€å°é‚®ä»¶é€šçŸ¥ï¼›è€Œä» 2024 å¹´æ˜¥å­£å¼€å§‹ï¼Œéšç§æ¸…å•ä¼šå˜æˆä¸€ä¸ªå¼ºåˆ¶è¦æ±‚ã€‚æ¶‰åŠåˆ°çš„ API ä»¥åŠä½¿ç”¨åŸå› å¯å‚è€ƒï¼š[View list of APIs and approved reasons](https://developer.apple.com/documentation/bundleresources/privacy_manifest_files/describing_use_of_required_reason_api)ï¼Œå¦‚æœä½¿ç”¨åŸå› æœªåœ¨åˆ—è¡¨ä¸­åˆ—å‡ºä¹Ÿå¯ç›´æ¥æäº¤å…·ä½“ä½¿ç”¨ç†ç”±ï¼š[Submit a request for a new approved reason](https://developer.apple.com/contact/request/privacy-manifest-reason/)ã€‚

## ï£¿ Developer - è®¾è®¡å¼€å‘åŠ é€Ÿå™¨

###  [Apple Vision Pro å¼€å‘è€…å®éªŒå®¤](https://developer.apple.com/cn/visionos/labs/)

[@è€å³°](https://github.com/gesan)ï¼šApple åˆ†åˆ«åœ¨åº“æ¯”è’‚è¯ºã€ä¼¦æ•¦ã€æ…•å°¼é»‘ã€ä¸Šæµ·ã€æ–°åŠ å¡å’Œä¸œäº¬è®¾ç«‹äº† Vision Pro å¼€å‘è€…å®éªŒå®¤ã€‚å¼€å‘è€…å¯ç”³è¯·å‚åŠ ä¸ºæœŸä¸€å¤©çš„å¼€å‘è€…å®éªŒå®¤ï¼Œä½“éªŒåœ¨ Vision Pro ä¸Šè¿è¡Œçš„ visionOSã€iPadOS æˆ– iOS Appï¼Œå¹¶åœ¨ Apple çš„æ”¯æŒä¸‹æµ‹è¯•å¹¶ä¼˜åŒ–ä½ çš„ App å’Œæ¸¸æˆã€‚

## æ–°æ‰‹æ¨è

### ğŸŒŸ [Flutter çš„çº¿ç¨‹æ¨¡å‹å’Œå¼‚æ­¥åŸç†](https://mp.weixin.qq.com/s/XvVD-yG79x8KX1U5LJgMvg)

[@CrazyCoderShi](https://github.com/CrazyCoderShi): åš Flutter åº”ç”¨å¼€å‘é²œå°‘æœ‰åƒ Native é‚£æ ·é‡åˆ°å„ç§å¤šçº¿ç¨‹æˆ–è€…å¤šè¿›ç¨‹çš„é—®é¢˜ï¼Œè¿™è·Ÿ Dart è¯­è¨€ä½¿ç”¨ event-loop æœºåˆ¶æœ‰å…³ï¼Œä½†å®é™…ä¸Šåœ¨ Flutter ä½“ç³»ä¸‹æ˜¯æœ‰ç±»çº¿ç¨‹èƒ½åŠ›çš„ï¼Œé‚£å°±æ˜¯ isolate, isolate ä¸ Native çº¿ç¨‹æˆ–è€…è¿›ç¨‹æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œä½†ä¹Ÿæœ‰ä¸å°‘å·®å¼‚ç‚¹ï¼›æœ¬æ–‡ç”±æœç‹æŠ€æœ¯å›¢é˜Ÿäº§å‡ºï¼Œè¯¦ç»†ä¸ºå¤§å®¶è®²è§£äº† isolate çš„æ–¹æ–¹é¢é¢ï¼ŒåŒæ ·å»¶ä¼¸åˆ°äº† Flutter å„ç±»å¼‚æ­¥æœºåˆ¶çš„åŸç† : event-loopã€async/awaitã€Future. ç§°å¾—ä¸Šæ˜¯ä¸€ç¯‡å¹²è´§æ»¡æ»¡çš„ç§‘æ™®ä»¥åŠè¿›é˜¶çš„å¥½æ–‡ï¼Œå°ç¼–å¼ºçƒˆæ¨èæ­£åœ¨ä½¿ç”¨ Flutter çš„åŒå­¦è·Ÿç€å­¦ä¹ æˆ–å¤ä¹ ä¸€é.

## æ–‡ç« 

### ğŸ• ğŸŒŸ [Precompiled headers](https://maskray.me/blog/2023-07-16-precompiled-headers)

[@Leo](https://github.com/leomobiledeveloper)ï¼šC/C++ çš„å·¥ç¨‹å¯ä»¥ç”¨ precompiled headers æ¥æå‡ç¼–è¯‘é€Ÿåº¦ã€‚å³ä½¿åæ¥ C++ modules å‡ºç°äº†ï¼Œprecompiled headers ä»ç„¶æœ‰å¾ˆå¤šåº”ç”¨çš„åœºæ™¯ã€‚æœ¬æ–‡æ˜¯ä¸€ç‰‡å…³äº precompiled headers çš„ä¼˜ç§€æ–‡ç« ï¼Œè¯¦ç»†è®²è§£äº† pch çš„ç”Ÿæˆã€ä½¿ç”¨ã€æ€§èƒ½ä¼˜åŒ–ç­‰æ–¹æ–¹é¢é¢ï¼Œè®²è§£çš„éå¸¸è¯¦ç»†ï¼Œæ¨èé˜…è¯»ã€‚

### ğŸ¢ [Swift Package Plugins åˆæ¢](https://mp.weixin.qq.com/s/US6_4Yvs_XnUF1gELYiN6g)

[@å«ç¬‘é¥®ç ’éœœ](https://weibo.com/chinafishnews/)ï¼šæœ¬æ–‡æ˜¯ Swift Package æ–°ç‰¹æ€§ Package plugins çš„ä»‹ç»æ–‡ç« ã€‚Package plugins å¯ä»¥åšå¾ˆå¤šäº‹æƒ…ï¼Œæ¯”å¦‚ä»£ç æ ¼å¼åŒ–ã€ä»£ç æ‰«æã€è‡ªåŠ¨ç”Ÿæˆå¤šè¯­è¨€æ–‡ä»¶ç­‰ã€‚é€šè¿‡æœ¬æ–‡ä»‹ç»ä»€ä¹ˆæ˜¯ Package pluginsï¼ŸPackage plugins èƒ½åšä»€ä¹ˆï¼ŸPackage plugins æ€ä¹ˆç”¨ï¼Ÿè®©ä½ å¯¹ Swift Package plugins æœ‰ä¸ªå…·ä½“äº†è§£ï¼Œå¯ä»¥ä¸Šæ‰‹å¼€å‘è‡ªå·±çš„ Swift Package pluginsã€‚

### ğŸ• [Building Peak](https://harshil.net/blog/building-peak)

[@æé€Ÿç”·å­©](https://github.com/ztlyyznf001)ï¼š"Building Peak"æ˜¯ä¸€ç¯‡æ­ç¤º Peak åº”ç”¨å¼€å‘èƒŒåçš„åšå®¢ã€‚ä½œè€…ä½¿ç”¨ SwiftUI å’Œ The Composable Architecture (TCA) æ„å»ºåº”ç”¨ï¼Œè®¾è®¡äº†å„ç§ä¸»é¢˜å¹¶æ··åˆä½¿ç”¨äº†æ ‡å‡†å’Œè‡ªå®šä¹‰ UI ã€‚åº”ç”¨ä¸­åŠ å…¥äº†ä¸€äº›æœ‰è¶£çš„å…ƒç´ ï¼Œå¦‚ "jiggle mode" å’Œ "Slide to Delete/Restore" UIã€‚ä¸ºäº†ç®€åŒ–å¼€å‘æµç¨‹ï¼Œä½œè€…åˆ›å»ºäº†ä¸‰ä¸ªè¾…åŠ©åº”ç”¨ï¼šPeakBuilderï¼ˆè‡ªåŠ¨åŒ–ä¸Šä¼ åˆ° TestFlightï¼‰ã€PeakThemerï¼ˆåœ¨è®¾å¤‡ä¸Šè®¾è®¡ä¸»é¢˜ï¼‰å’Œ PeakSnapshotterï¼ˆç”Ÿæˆå®£ä¼ è‰ºæœ¯å’Œ App Store æˆªå›¾ï¼‰ã€‚

## å·¥å…·

### ğŸ  [asciiflow](https://asciiflow.com/#/)

[@æ°´æ°´](https://www.xuyanlan.com/)ï¼šè¿™ä¸ªå·¥å…·å¯ä»¥ç»˜åˆ¶ç®€å•çš„æµç¨‹å›¾ï¼Œç„¶åé€‰ä¸­å›¾å½¢å³å¯ç²˜è´´åˆ°ä½ æƒ³è¦å¤åˆ¶åˆ°çš„ä»£ç æ³¨é‡Šé‡Œï¼Œå–œæ¬¢è¿™ç§æ³¨é‡Šé£æ ¼çš„è¯»è€…ä»¬å¯ä»¥å°è¯•ä¸‹å“¦ ~

## ä»£ç 

### [UIGraphicsBeginImageContextWithOptions Deprecated](https://github.com/SwiftOldDriver/iOS-Weekly/issues/4114)

[@Smallfly](https://github.com/iostalks)ï¼š`UIGraphicsBeginImageContextWithOptions` && `UIGraphicsEndImageContext` å›¾ç‰‡ç»˜åˆ¶ API åœ¨ iOS 17 ä¸Šæ ‡è®°ä¸ºåºŸå¼ƒï¼Œåœ¨ Xcode beta 5 è‹¥ç»˜åˆ¶å›¾ç‰‡çš„ `width` æˆ– `height` æ„å¤–ä¸ºé›¶ä¼šè§¦å‘ Assertï¼Œéé›¶ size æš‚æ—¶ä¸å—å½±å“ã€‚å»ºè®®å°½å¿«æ›¿æ¢ä¸ºæœ€æ–°çš„ `UIGraphicsImageRenderer` APIã€‚

### ğŸ• [A collection of Metal Shaders](https://github.com/rafunderscore/metallurgy)

[@Cooper Chen](https://github.com/cjlcooper)ï¼šMetallurgy æ˜¯ä¸€ä¸ªå±•ç¤ºå¦‚ä½•åœ¨ SwiftUI ä¸Šä½¿ç”¨ Metal çš„å¼€æºé¡¹ç›®ï¼Œé€šè¿‡è¿™ä¸ªé¡¹ç›®å¯ä»¥æ›´å¥½çš„å­¦ä¹ å’Œäº†è§£ Metal å¼€å‘ç›¸å…³å†…å®¹ä»¥åŠå¦‚ä½•ä¸ SwiftUI ç»“åˆï¼Œå·¥ç¨‹ä¸­ç€é‡å¯¹ Metal çš„ç€è‰²å™¨éƒ¨åˆ†è¿›è¡Œäº†è¯¦ç»†çš„è¯´æ˜ï¼Œé€šè¿‡é˜…è¯»ä»£ç å¯ä»¥äº†è§£ç€è‰²å™¨å¦‚ä½•ä¼ é€’æ•°æ®åˆ°è§†å›¾å¹¶å±•ç¤ºç»™ç”¨æˆ·ï¼Œèƒ½å¤Ÿå¿«é€Ÿå¸®åŠ©å¼€å‘è€…æ›´å¤šåœ°äº†è§£ Metal ä»¥åŠå¦‚ä½•åœ¨ SwiftUI ä¸­ä½¿ç”¨å®ƒã€‚

## å†…æ¨

é‡æ–°å¼€å§‹æ›´æ–°ã€ŒiOS é è°±å†…æ¨ä¸“é¢˜ã€ï¼Œæ•´ç†äº†æœ€è¿‘æ˜ç¡®åœ¨æ‹›äººçš„å²—ä½ï¼Œä¾›å¤§å®¶å‚è€ƒ

[åŒ—äº¬] - ç™¾åº¦ç½‘ç›˜ iOS/Android/FE/Server ç ”å‘å·¥ç¨‹å¸ˆ

[å¹¿å·] å¾®ä¿¡æ”¯ä»˜ - å®¢æˆ·ç«¯å¼€å‘ - iOS/Android

[ä¸Šæµ·] B ç«™ - iOS å¼€å‘

[ä¸Šæµ·] ç™¾åº¦è¾“å…¥æ³• - å®¢æˆ·ç«¯å¼€å‘ - iOS

[æ·±åœ³ / å¹¿å· / åŒ—äº¬ / ä¸‰äºš] å­—èŠ‚è·³åŠ¨ - å‰ªæ˜  - æ‹›è˜å®¢æˆ·ç«¯å¼€å‘


å…·ä½“ä¿¡æ¯è¯·ç§»æ­¥ï¼šhttps://www.yuque.com/iosalliance/article/bhutav è¿›è¡ŒæŸ¥çœ‹ï¼ˆå¦‚æœ‰æ‹›è˜éœ€æ±‚è¯·è”ç³» iTDriverrï¼‰

## å…³æ³¨æˆ‘ä»¬

æˆ‘ä»¬æ˜¯ã€Œè€å¸æœºæŠ€æœ¯å‘¨æŠ¥ã€ï¼Œä¸€ä¸ªæŒç»­è¿½æ±‚ç²¾å“ iOS å†…å®¹çš„æŠ€æœ¯å…¬ä¼—å·ï¼Œæ¬¢è¿å…³æ³¨ã€‚

**å…³æ³¨æœ‰ç¤¼ï¼Œå…³æ³¨ã€è€å¸æœºæŠ€æœ¯å‘¨æŠ¥ã€‘ï¼Œå›å¤ã€Œ2023ã€ï¼Œé¢†å– 2023 åŠå¾€å¹´å†…å‚**

![](https://github.com/SwiftOldDriver/iOS-Weekly/blob/master/assets/qrcode_for_wechat.jpg?raw=true)

åŒæ—¶ä¹Ÿæ”¯æŒäº† RSS è®¢é˜…ï¼šhttps://github.com/SwiftOldDriver/iOS-Weekly/releases.atom ã€‚

## è¯´æ˜

ğŸš§ è¡¨ç¤ºéœ€æŸå·¥å…·ï¼ŒğŸŒŸ è¡¨ç¤ºç¼–è¾‘æ¨è

é¢„è®¡é˜…è¯»æ—¶é—´ï¼šğŸ å¾ˆå¿«å°±èƒ½è¯»å®Œï¼ˆ1 - 10 minsï¼‰ï¼›ğŸ• ä¸­ç­‰ ï¼ˆ10 - 20 minsï¼‰ï¼›ğŸ¢ æ…¢ï¼ˆ20+ minsï¼‰
