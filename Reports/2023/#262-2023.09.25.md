# è€å¸æœº iOS å‘¨æŠ¥ #262 | 2023-09-25

![ios-weekly](https://github.com/SwiftOldDriver/iOS-Weekly/blob/master/assets/weekly-header/262.png?raw=true)
è€å¸æœº iOS å‘¨æŠ¥ï¼Œåªä¸ºä½ å‘ˆç°æœ‰ä»·å€¼çš„ä¿¡æ¯ã€‚

ä½ ä¹Ÿå¯ä»¥ä¸ºè¿™ä¸ªé¡¹ç›®å‡ºä¸€ä»½åŠ›ï¼Œå¦‚æœå‘ç°æœ‰ä»·å€¼çš„ä¿¡æ¯ã€æ–‡ç« ã€å·¥å…·ç­‰å¯ä»¥åˆ° [Issues](https://github.com/SwiftOldDriver/iOS-Weekly/issues) é‡Œæç»™æˆ‘ä»¬ï¼Œæˆ‘ä»¬ä¼šå°½å¿«å¤„ç†ã€‚è®°å¾—å†™ä¸Šæ¨èçš„ç†ç”±å“¦ã€‚æœ‰å»ºè®®å’Œæ„è§ä¹Ÿæ¬¢è¿åˆ° [Issues](https://github.com/SwiftOldDriver/iOS-Weekly/issues) æå‡ºã€‚

## æ–°é—»

### [WebP å †ç¼“å†²åŒºæº¢å‡º å®‰å…¨æ¼æ´](https://github.com/advisories/GHSA-j7hp-h8jx-5ppr)

23 å¹´ 9 æœˆ 12 æ—¥ Libwebp å…¬å¸ƒäº†ä¸€ä¸ªé«˜å±æ¼æ´ [CVE-2023-4863](https://nvd.nist.gov/vuln/detail/CVE-2023-4863)ï¼Œè¯„çº§ä¸º **Critical(8,8)** ã€‚å—å½±å“æ–¹ä¼—å¤šï¼ŒåŒ…æ‹¬ Chromeï¼ŒFirefox ç­‰æµè§ˆå™¨ï¼›é›†æˆ libWebP çš„å®¢æˆ·ç«¯ APPï¼Œä»¥åŠåŒ…æ‹¬éƒ¨åˆ†ç‰ˆæœ¬çš„ Electronã€flutter ã€‚åˆ—ä¸¾éƒ¨åˆ†å—å½±å“çš„ç»„ä»¶ï¼š

- webP(< [1.3.2](https://chromium.googlesource.com/webm/libwebp/+/refs/heads/1.3.2))ï¼Œæ¨èç›´æ¥å‡çº§è‡³ 1.3.2 
- Electron(< 26.2.2/25.8.2/24.8.3/22.3.24)
- flutter(< 3.13.4)

ç”±äºæ¼æ´å·²è¢«å…¬å¼€ï¼Œæœ‰è¢«åˆ©ç”¨åæ”»å‡»çš„é£é™©ï¼ˆå…·ä½“æ”»å‡»æ–¹å¼ä¸ä¾¿å±•å¼€ï¼‰ï¼Œå¤§å®¶å¯ä»¥è§†é¡¹ç›®æƒ…å†µè¿›è¡Œå‡çº§ã€‚

## æ–‡ç« 

### ğŸ• [iOSç‚¹ä¹å›¾NinePatchè§£æ](https://mp.weixin.qq.com/s/angyJag7AZntt2FLNCOuXw)

[@Barney](~https://github.com/BarneyZhaoooo~)ï¼šæ–‡ç« ä¸»è¦ä»‹ç»äº† iOS ç‚¹ä¹å›¾çš„åº”ç”¨å®æˆ˜ã€‚æœ‰åŸç†ä»‹ç»ä¹Ÿæœ‰ä»£ç ï¼Œæ˜¯éå¸¸å…·ä½“çš„å®è·µï¼Œå€¼å¾—å­¦ä¹ ã€‚

- ç‚¹ä¹å›¾åˆ¶ä½œç”Ÿæˆã€‚
- PNGæ–‡ä»¶æ ¼å¼ä»‹ç»å’Œä»£ç å®è·µã€‚


### ğŸ• [å¼€ç®±å³ç”¨-ç§»åŠ¨ç½‘ç»œIPv6æµ“åº¦æ£€æµ‹å·¥å…·](https://juejin.cn/post/7278899547828224039)

[@å«ç¬‘é¥®ç ’éœœ](https://weibo.com/chinafishnews/)ï¼šæœ¬æ–‡ä»‹ç»äº†ä¸€æ¬¾ç§»åŠ¨ç½‘ç»œ IPv6 æµ“åº¦çš„æ£€æµ‹å·¥å…·ï¼Œæ—¨åœ¨æ¨åŠ¨ IPv6 æŠ€æœ¯çš„å¹¿æ³›åº”ç”¨ã€‚æœ¬æ–‡è¯¦ç»†è¯´æ˜äº†è¯¥å·¥å…·çš„èƒŒæ™¯ã€ä½¿ç”¨æ–¹æ³•ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡æŠ“åŒ…å’Œæ•°æ®åˆ†ææ¥è¯„ä¼°ç§»åŠ¨åº”ç”¨çš„ IPv6 æµé‡å æ¯”ï¼Œè¿›è€ŒæŒ‡å¯¼ç½‘ç»œæ”¹è¿›å·¥ä½œã€‚æ­¤å¤–ï¼Œæœ¬æ–‡è¿˜æä¾›äº†å…¶ä»–è¯¸å¦‚æ‰‹æœºæŠ“åŒ…ã€Safari è°ƒè¯•ç­‰æ£€æµ‹æ–¹æ³•ï¼Œä»¥å¸®åŠ©è¯»è€…æ›´å¥½åœ°ç†è§£å’Œæ¨å¹¿ IPv6 æŠ€æœ¯åœ¨ç§»åŠ¨ç½‘ç»œä¸­çš„åº”ç”¨ã€‚

### ğŸ [Shake to undo in a SwiftUI app](https://blog.thomasdurand.fr/story/2023-09-04-shake-to-undo-swiftui/)

[@zoeGuo](https://github.com/zoeGuo)ï¼šè¿™ç¯‡æ–‡ç« ä»‹ç»äº†å¦‚ä½•åœ¨ SwiftUI åº”ç”¨ä¸­å®ç°"æ‘‡ä¸€æ‘‡æ’¤é”€"çš„åŠŸèƒ½ã€‚ä½œè€…ä»æ€ä¹ˆåœ¨ SwiftUI ä¸­ä½¿ç”¨ UndoManager ï¼Œåˆ°å…·ä½“å¦‚ä½•åœ¨ SwiftUI ä¸­å®ç°"æ‘‡ä¸€æ‘‡"æ‰‹åŠ¿ï¼Œç»™äºˆç”¨æˆ·é€‚å½“çš„æç¤ºä¿è¯æ•°æ®ä¸ä¼šè¢«è¯¯æ“ä½œä¸¢å¤±ï¼Œä»¥åŠç›‘å¬ undo æ“ä½œçš„å‘ç”Ÿæ¥æ­£ç¡®å¤„ç†é€»è¾‘ï¼Œæä¾›äº†ä½¿ç”¨ SwiftUI å®ç°"æ‘‡ä¸€æ‘‡æ’¤é”€"åŠŸèƒ½çš„è¯¦ç»†æ­¥éª¤å’Œæ€è·¯ã€‚ä½œè€…æœ€åå±•ç¤ºäº†å°†æ‰€æœ‰è¿™äº›é€»è¾‘å’Œ UI å®ç°å°è£…è‡³ä¸€ä¸ªå¯é‡ç”¨çš„ä¿®é¥°ç¬¦ä¸­ï¼Œæ•´ä¸ªåŠŸèƒ½çš„ä½¿ç”¨ä»£ç å˜å¾—æå…¶ç®€æ´ã€‚

### ğŸ¢ [How to build an iOS Live Activity](https://medium.com/kinandcartacreated/how-to-build-ios-live-activity-d1b2f238819e)

[@anotheren](https://github.com/anotheren)ï¼šè¿™æ˜¯ä¸€ç¯‡æ–°æ‰‹å‘çš„æ–‡ç« ï¼Œä»åˆ›å»ºã€UI å±•ç¤ºã€æ•°æ®æ›´æ–°ç­‰å„æ–¹é¢ç»™å‡ºäº†å¦‚ä½•æ„å»ºä½ çš„ç¬¬ä¸€ä¸ªâ€œLive Activityâ€(å®æ—¶æ´»åŠ¨) çš„å…¨æµç¨‹æŒ‡å¯¼ï¼Œæ˜¯æ—¶å€™å°†å®æ—¶æ´»åŠ¨åŠ å…¥ä½ çš„åº”ç”¨äº†ã€‚

### ğŸ• [Swift Macro: Revisited - The Strengths and Essence](https://wezzard.com/post/2023/08/swift-macro-revisited-the-strengths-and-essence-a5a4)

[@AidenRao](https://weibo.com/AidenRao)ï¼šè¿™ç¯‡æ–‡ç« è¯¦ç»†æ¢è®¨äº† Swift å®çš„ä¼˜åŠ¿å’Œæœ¬è´¨ã€‚

- é€šè¿‡åœ¨ç¼–è¯‘æ—¶è½¬æ¢ç¨‹åºå‘˜çš„ä»£ç æ¥ç”Ÿæˆä»£ç ã€‚å…·å¤‡ç±»å‹æ£€æŸ¥å’Œè¯­æ³•æ ‘æ£€æŸ¥èƒ½åŠ›ï¼Œèƒ½å¤Ÿé™å®šå®çš„ä½¿ç”¨åœºæ™¯ï¼Œè¿˜å¯ä»¥æ˜ç¡®å®æ¥å—çš„å‚æ•°ç±»å‹ã€‚
- å¯¹äºç‹¬ç«‹å®ï¼Œå®ƒä»¬å¯ä»¥å½±å“ä½¿ç”¨å¤„çš„æ§åˆ¶æµå¹¶å…±äº«è¯æ³•èŒƒå›´ã€‚
- å¯¹äºé™„åŠ å®ï¼Œå®ƒä»¬å¯ä»¥å°†ç°æœ‰æˆå‘˜å˜é‡ï¼Œè½¬æ¢æˆå¦ä¸€ç§å½¢å¼æ¥æ‰©å±•è¯¥ç±»å‹ï¼Œå¹¶é€šè¿‡æ·»åŠ è®¿é—®å™¨æ¥é‡å†™å±æ€§ã€‚æ‰©å±•å†…å®¹ä¸ä»…å¸¦æ¥æ–°çš„è¡Œä¸ºï¼Œè€Œä¸”å…±äº«æ‰©å±•ç‚¹çš„â€å‘½åç©ºé—´â€ã€‚è¿˜å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå‘å­˜å‚¨å±æ€§æ·»åŠ è®¿é—®å™¨ä¹Ÿä¼šå°†å…¶è¯­ä¹‰ä»å­˜å‚¨å±æ€§æ›´æ”¹ä¸ºè®¡ç®—å±æ€§ã€‚

ç›¸æ¯” Swift ä¸­ç°æœ‰çš„ä»£ç é‡ç”¨æ–¹æ³•ï¼ŒSwift Macro é€šè¿‡æ‹¥æŠ±ä¸åŒçš„è®¾è®¡ç†å¿µï¼Œæé«˜äº†è¯­è¨€çš„ä»£ç å¯é‡ç”¨æ€§ã€‚

### ğŸ• [Swift Macro: Revisited - Traps and Pitfalls](https://wezzard.com/post/2023/08/swift-macro-revisited-traps-and-pitfalls-1034)

[@é‚¦Ben](https://weibo.com/linwenbang)ï¼š

è¯¥æ–‡ç« å¯¹ Swift å®ä½¿ç”¨è¿‡ç¨‹ä¸­ä¼šå‡ºç°çš„ä¸€äº›é™·é˜±é—®é¢˜è¿›è¡Œäº†ç¤ºä¾‹è¯´æ˜ï¼Œä¾‹å¦‚ï¼š
- å®é‡Œé¢å¦‚æœåŒ…å«äº† returnï¼Œåœ¨ for å¾ªç¯é‡Œç”¨ï¼Œå±•å¼€ä¼šç›´æ¥ return è€Œä¸æ˜¯ç»§ç»­æ‰§è¡Œ
- å®šä¹‰å‘½åå†²çªï¼Œå…¶ä»–æ¡†æ¶çš„ propertyWrapper å¯¼è‡´çš„å†²çªï¼Œæˆ–è€…æ˜¯ lazy éƒ½ä¼šå†²çªï¼Œé‡å¤è®¿é—®ç­‰
- è¯­ä¹‰å†²çª

è§£å†³æ–¹æ¡ˆæ–‡ä¸­ä¹Ÿç»™äº†å»ºè®®ï¼š
- å®åå­—æ¸…æ™°ï¼Œå¦‚æœä¸å…è®¸åœ¨æŸä¸ªåœºæ™¯ä½¿ç”¨çš„è¯ï¼Œå¯ä»¥å†™æ¸…æ¥š
- å°†å®æ‰©å±•æ”¾åœ¨é—­åŒ…å†…è¿›è¡Œä¿æŠ¤
- å¼•ç”¨å…¶ä»–åº“çš„æ—¶å€™å°½é‡ä¿è¯å‘½åå”¯ä¸€
- å®å†…éƒ¨ä¸è¿›è¡Œå®šä¹‰å˜é‡
- æä¾›é‡å‘½åçš„æ–¹æ³•
- æä¾› ignore æ–¹æ³•
- æä¾›å¯¹åº”çš„ä½¿ç”¨è¯´æ˜æ–‡æ¡£

å±•å¼€åçš„é—®é¢˜å’Œä½ åœ¨ OC ä¸­ç”¨åˆ°å®ä¹Ÿæ˜¯ä¼šé‡åˆ°ç±»ä¼¼çš„åœºæ™¯ï¼Œå¤§è§„æ¨¡ä»¥åŠå¤æ‚åœºæ™¯ä½¿ç”¨çš„æ—¶å€™ï¼Œå°¤å…¶éœ€è¦æ³¨æ„è¿™ç±»å¼‚å¸¸ case

### ğŸ [iPhone 15 Screen Sizes](https://useyourloaf.com/blog/iphone-15-screen-sizes/)

[@ChenghzhiHuang](https://github.com/ChenghzhiHuang)ï¼šæœ¬æ–‡æ€»ç»“äº† iPhone 15 ç³»åˆ—çš„å±å¹•ä¿¡æ¯ï¼ŒåŒ…æ‹¬ StatusBarHeightã€SafeAreaã€å±å¹•åˆ†è¾¨ç‡ç­‰ã€‚éœ€è¦é€‚é…çš„åŒå­¦å¯ä»¥è‡ªè¡Œç¿»é˜…ã€‚

## å·¥å…·

### ğŸ [Flutter æœ€ä¼˜ç§€åŠ¨ç”»åº“ã€Œå®Œå…¨å•†ä¸šåŒ–ã€ï¼ŒRive 2 ä½ å…¨é¢äº†è§£è¿‡å—ï¼Ÿ](https://juejin.cn/post/7275155682051145787)

[@CrazyCoderShi](https://github.com/CrazyCoderShi): Rive åŠ¨ç”»åœ¨ Flutter é¢†åŸŸç±»ä¼¼äº Lottie åœ¨ iOS å’Œ Android ä¸Šçš„åœ°ä½ï¼ŒåŒæ ·æä¾›äº†åœ¨çº¿ç¼–è¾‘å™¨ï¼›å½“ç„¶äº†ï¼ŒRive ä¹Ÿæ˜¯æ”¯æŒå…¨å¹³å°çš„ï¼Œæœ¬æ–‡å¸¦ä½ è¯¦ç»†å…¥æ‰‹ Rive åŠ¨ç”»ï¼Œä»åˆ¶ä½œåˆ°ä»£ç è”åŠ¨ã€‚

## ä»£ç 

### ğŸ [ExampleKit](https://github.com/toph42/ExampleKit)

[@Cooper Chen](https://github.com/cjlcooper)ï¼šè¿™ä¸ªå¼€æºå·¥ç¨‹æä¾›äº†åœ¨ Swift Playgrounds ä¸­åˆ›å»ºè‡ªå·±çš„åº“å¹¶è¿›è¡Œå‘å¸ƒç®¡ç†ï¼Œå…¶ä¸­è¯¦ç»†ä»‹ç»äº†å¦‚ä½•åˆ›å»ºæ¨¡æ¿ã€æºæ§åˆ¶ç­‰æ“ä½œï¼Œè¿™å¯¹äºéœ€è¦è¿›è¡Œç›¸åŒä»£ç ä¸åŒå¹³å°å¼€å‘çš„å¼€å‘è€…æ¥è¯´æ˜¯ä¸€ä¸ªå®ç”¨çš„å·¥å…·ã€‚

### ğŸ [SnapshotTesting](https://github.com/pointfreeco/swift-snapshot-testing)

[@J_Knight_](https://github.com/knightsj)ï¼šæä¾›äº†ä¸€ä¸ªå¼€æºçš„ç”¨äº Swift å¼€å‘çš„å¿«ç…§æµ‹è¯•ï¼ˆSnapshot Testingï¼‰æ¡†æ¶ã€‚é™¤äº†æ”¯æŒå¯¹ UIView è¿›è¡Œå¿«ç…§ä»¥å¤–ï¼Œ è¿˜æ”¯æŒå…¶ä»–æ•°æ®ç±»å‹ä»¥åŠåœ¨ä¸åŒè®¾å¤‡å‹å·ä¸Šçš„å¿«ç…§ã€‚

## å†…æ¨

é‡æ–°å¼€å§‹æ›´æ–°ã€ŒiOS é è°±å†…æ¨ä¸“é¢˜ã€ï¼Œæ•´ç†äº†æœ€è¿‘æ˜ç¡®åœ¨æ‹›äººçš„å²—ä½ï¼Œä¾›å¤§å®¶å‚è€ƒ

[åŒ—äº¬] ç™¾åº¦ç½‘ç›˜ - åŸºç¡€æ¶æ„/ä¸šåŠ¡ - iOS/Android/FE

[ä¸Šæµ·/æ­å·/åŒ—äº¬] TikTok - çŸ­è§†é¢‘ - iOS/Android/TL

[å¹¿æ·±] TikTok ç›´æ’­ - ç¤¾äº¤äº’åŠ¨å›¢é˜Ÿ - iOS/Android

[æ­å·] æ·˜å® - ç»ˆç«¯å¹³å° - iOS/Android/C++

[å¹¿å·] å¾®ä¿¡å…¬ä¼—å· - iOS

[åŒ—äº¬] å¿«æ‰‹ - æœ¬åœ°ç”Ÿæ´» - iOS

[ä¸Šæµ· / åŒ—äº¬] MiniMax - iOS

[åŒ—äº¬] çŸ¥ä¹ - ä¼šå‘˜ä¸šåŠ¡ - iOS

[ä¸Šæµ·] æ‰«æå…¨èƒ½ç‹ - iOS

[æ·±åœ³] æ‰‹æœº QQ - ç»ˆç«¯æ¶æ„ - iOS - T10/T11

å…·ä½“ä¿¡æ¯è¯·ç§»æ­¥ï¼šhttps://www.yuque.com/iosalliance/article/bhutav è¿›è¡ŒæŸ¥çœ‹ï¼ˆå¦‚æœ‰æ‹›è˜éœ€æ±‚è¯·è”ç³» iTDriverrï¼‰

## å…³æ³¨æˆ‘ä»¬

æˆ‘ä»¬æ˜¯ã€Œè€å¸æœºæŠ€æœ¯å‘¨æŠ¥ã€ï¼Œä¸€ä¸ªæŒç»­è¿½æ±‚ç²¾å“ iOS å†…å®¹çš„æŠ€æœ¯å…¬ä¼—å·ï¼Œæ¬¢è¿å…³æ³¨ã€‚

**å…³æ³¨æœ‰ç¤¼ï¼Œå…³æ³¨ã€è€å¸æœºæŠ€æœ¯å‘¨æŠ¥ã€‘ï¼Œå›å¤ã€Œ2023ã€ï¼Œé¢†å– 2023 åŠå¾€å¹´å†…å‚**

![](https://github.com/SwiftOldDriver/iOS-Weekly/blob/master/assets/qrcode_for_wechat.jpg?raw=true)

åŒæ—¶ä¹Ÿæ”¯æŒäº† RSS è®¢é˜…ï¼šhttps://github.com/SwiftOldDriver/iOS-Weekly/releases.atom ã€‚

## è¯´æ˜

ğŸš§ è¡¨ç¤ºéœ€æŸå·¥å…·ï¼ŒğŸŒŸ è¡¨ç¤ºç¼–è¾‘æ¨è

é¢„è®¡é˜…è¯»æ—¶é—´ï¼šğŸ å¾ˆå¿«å°±èƒ½è¯»å®Œï¼ˆ1 - 10 minsï¼‰ï¼›ğŸ• ä¸­ç­‰ ï¼ˆ10 - 20 minsï¼‰ï¼›ğŸ¢ æ…¢ï¼ˆ20+ minsï¼‰
