# è€å¸æœº iOS å‘¨æŠ¥ #104 | 2020-03-09

![ios-weekly](https://github.com/SwiftOldDriver/iOS-Weekly/blob/master/assets/ios-weekly.png?raw=true)
è€å¸æœº iOS å‘¨æŠ¥ï¼Œåªä¸ºä½ å‘ˆç°æœ‰ä»·å€¼çš„ä¿¡æ¯ã€‚

ä½ ä¹Ÿå¯ä»¥ä¸ºè¿™ä¸ªé¡¹ç›®å‡ºä¸€ä»½åŠ›ï¼Œå¦‚æœå‘ç°æœ‰ä»·å€¼çš„ä¿¡æ¯ã€æ–‡ç« ã€å·¥å…·ç­‰å¯ä»¥åˆ° [Issues](https://github.com/SwiftOldDriver/iOS-Weekly/issues) é‡Œæç»™æˆ‘ä»¬ï¼Œæˆ‘ä»¬ä¼šå°½å¿«å¤„ç†ã€‚è®°å¾—å†™ä¸Šæ¨èçš„ç†ç”±å“¦ã€‚æœ‰å»ºè®®å’Œæ„è§ä¹Ÿæ¬¢è¿åˆ° [Issues](https://github.com/SwiftOldDriver/iOS-Weekly/issues) æå‡ºã€‚

## æ–°é—»

### [è¿‘æœŸ iOS å¼€å‘è€…éœ€è¦å…³æ³¨çš„å®˜æ–¹æ–°é—»](https://developer.apple.com/news/?id=03042020b)

[@looping](https://github.com/looping)ï¼šä¸»è¦å†…å®¹å¦‚ä¸‹ï¼š
- ç›®å‰ iOS 13 è¦†ç›–ç‡å·²ç»è¾¾åˆ° 77%
- ä» 4 æœˆ 30 æ—¥èµ·ï¼Œæ‰€æœ‰æäº¤åˆ° App Store çš„ iPhone åº”ç”¨éƒ½å¿…é¡»ä½¿ç”¨ iOS 13 SDKï¼ˆXcode 11ï¼‰ æ‰“åŒ…ï¼Œä¹Ÿå°±æ˜¯è¯´è¦å®Œæˆ iOS 13 é€‚é…
- å†æ¬¡å¼ºè°ƒäº†ä» 4 æœˆ 30 æ—¥èµ·ï¼Œæ‰€æœ‰æäº¤åˆ° App Store çš„åº”ç”¨éƒ½å¿…é¡»ä½¿ç”¨ storyboard ä½œä¸º launch screenï¼Œå¹¶è¦æ±‚ iPhone åº”ç”¨è¦é€‚é…æ‰€æœ‰çš„ iPhone å±å¹•å°ºå¯¸
- å¦å¤–ï¼Œå®¡æ ¸æ¡æ¬¾ä¹Ÿæœ‰æ›´æ–°ï¼ˆ[Updated App Store Review Guidelines Now Available](https://developer.apple.com/news/?id=03042020a)ï¼‰ï¼Œå¯æµè§ˆçŸ¥è¯†å°é›†å›¢é˜Ÿæ•´ç†çš„å˜æ›´å†…å®¹ï¼š[åˆ’é‡ç‚¹ï¼šã€ŠApp Store å®¡æ ¸æŒ‡å—ã€‹æ›´æ–°æ¡ç›®ä¸€è§ˆ](https://mp.weixin.qq.com/s/Tzt0jmVt2q7zpL7g8kpb5g)


## æ–‡ç« 

### ğŸŒŸ ğŸ• [Project LightSpeed: Rewriting the Messenger codebase for a faster, smaller, and simpler messaging app](https://engineering.fb.com/data-infrastructure/messenger/)
[@zvving](https://github.com/zvving)ï¼šFacebook æ–°ç‰ˆ iOS Messager ä¸ºäº†è¾¾æˆã€æ›´å¿«ã€æ›´å°ã€æ›´ç®€å•ã€çš„ç›®æ ‡ï¼Œè¿›è¡Œäº†ä¸€é¡¹ç½•è§çš„å·¥ä½œï¼šé‡æ„æ¶æ„å¹¶é‡å†™æ‰€æœ‰ä»£ç ã€‚

- é‡å†™æ•ˆæœï¼šä¿ç•™å¤§å¤šæ•°åŠŸèƒ½ï¼Œå¯åŠ¨å¿«ä¸€å€ï¼Œå¤§å°ä¸ºä¹‹å‰å››åˆ†ä¹‹ä¸€ï¼Œä»£ç ä» 170w è¡Œé™ä½åˆ° 36w è¡Œ
- è¿½æ±‚æ¶æ„å…¨å±€æœ€ä¼˜çš„å››åŸåˆ™ï¼š
    - ä¼˜å…ˆä½¿ç”¨ç³»ç»Ÿå®ç°ï¼Œå°‘éƒ¨åˆ†è·¨å¹³å°é€»è¾‘æ‰©å±• C å®ç°
    - åˆå¹¶é‡ç”¨ UI é€»è¾‘
    - åŸºäº SQLite æ‰“é€ é€šç”¨å¹³å° MSYSï¼šé©±åŠ¨ UI ä¸šåŠ¡ï¼Œè‡ªåŠ¨åŒ–æµ‹è¯• 100% è¦†ç›–
    - ç»Ÿä¸€å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯äº¤äº’&åŒæ­¥æœºåˆ¶
- é¢å¯¹æœªæ¥çš„ä»£ç å¢é•¿ï¼Œä¸ºæ¯ä¸ªåŠŸèƒ½è®¾ç½®å¤æ‚åº¦é¢„ç®—ï¼Œé•¿æœŸè¯„ä¼°è´¨é‡

æ¶æ„çš„æŠ‰æ‹©æ¥è‡ªäº FB å·¥ç¨‹å¸ˆå¯¹å¦‚ä½•ç”¨æœ€æ–°æŠ€æœ¯æ‰“é€  IM é¡¹ç›®çš„æ•´ä½“æ€è€ƒï¼šä½¿ç”¨æœ€æ–°ç³»ç»Ÿå®ç°ï¼Œè¿½æ±‚å¤ç”¨ï¼Œé’ˆå¯¹ IM æ‰“é€  DB é©±åŠ¨æ ¸å¿ƒï¼Œä¿æŒç®€å•ã€‚è¯»èµ·æ¥é¢‡æœ‰ã€é‡å‰‘æ— é”‹ï¼Œå¤§å·§ä¸å·¥ã€çš„å‘³é“ã€‚

é¡ºå¸¦ä¸€æï¼šè¿™æ˜¯ä¸€æ¬¡ native to native çš„é‡å†™ï¼Œå’Œ RN æ²¡æœ‰ç›´æ¥å…³ç³»ã€‚

> - [@Dan Abramov åœ¨ Twitter ä¸Šçš„å›åº”](https://twitter.com/dan_abramov/status/1234801507805138945)
> - [æ„Ÿè°¢çŸ¥è¯†å°é›†æä¾›çš„è¯‘æ–‡](https://mp.weixin.qq.com/s/kdezRmk_tgjUTsuCQcAqsw)

### ğŸŒŸ ğŸ¢ [ç³»åˆ—æ–‡ç«  - Swift Intermediate Language åˆæ¢](https://mp.weixin.qq.com/s/UQksScr_LZ1n7wLAVjzEMg)

[ç¬¬äºŒç¯‡ - çœŸå®æ¡ˆä¾‹å¼•å‘çš„ iOS åº•å±‚å®ç°çª¥æ¢](https://mp.weixin.qq.com/s/KHvWSsvKNxJq9IwAsZu4qw)

[@äº«è€³å…ˆæ£®](https://github.com/iblacksun)ï¼šSwift æ˜¯æ„å»ºåœ¨ LLVM ä¸Šï¼Œä½¿ç”¨ LLVM ä¸­é—´è¡¨ç¤º(IR) å’Œ LLVM ä¸åŒåç«¯ç”Ÿæˆæœºå™¨è¯­è¨€ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒSwift ç¼–è¯‘å™¨åœ¨ç”Ÿæˆ IR ä¹‹å‰ï¼Œè¿˜è®¾è®¡äº†ä¸€é—¨æ–°çš„é«˜çº§ä¸­é—´è¯­è¨€ `Swift Intermediate Language`ï¼Œç®€ç§° `SIL`ï¼ŒSIL ä¼šå¯¹ Swift è¿›è¡Œé«˜çº§åˆ«çš„è¯­æ„åˆ†æå’Œä¼˜åŒ–ã€‚

å½“ä½ é‡åˆ°ä¸€äº›æ— æ³•ç†è§£çš„è¡¨é¢ç°è±¡ï¼Œæ²¡æœ‰åŠæ³•é€šè¿‡æ–‡æ¡£æˆ–è€…å‰äººç»éªŒè§£è¯»é—®é¢˜çš„å®è´¨ï¼Œæƒ³è¦å°è¯•æ¢ç©¶ç¼–ç¨‹è¯­è¨€èƒŒåçš„å®ç°ç»†èŠ‚ï¼Œé‚£ä¹ˆå°±éœ€è¦è·¨è¶Šè¯­è¨€æœ¬èº«çš„äº†è§£ï¼Œå‘ä¸‹å»ä¸“ç ”ç¼–è¯‘å™¨çš„å®ç°ç»†èŠ‚ã€‚ç³»åˆ—æ–‡ç« ä½¿ç”¨é¡¹ç›®ä¸­å®é™…é‡åˆ°çš„ä¸€ä¸ªçœŸå®æ¡ˆä¾‹ï¼Œä»ä¸€ä¸ªå…·ä½“çš„ `UITableView` å®ç°çš„ä¾‹å­å¼•å‡ºï¼Œè¯•å›¾é€šè¿‡ `SIL` è¿™ä¸ªä¸­é—´è¯­è¨€ï¼Œæ¢ç©¶ Swift èƒŒåçš„ä¸€äº›å®ç°ç»†èŠ‚ï¼Œå¸®åŠ©æˆ‘ä»¬ç†è§£ä¸€äº›é—®é¢˜ã€‚

> æ¨èäººï¼š[@kingnight](https://github.com/kingnight)


### ğŸ• [Flutter +MLKit = â¤](https://medium.com/flutter-community/flutter-mlkit-8039ec66b6a)

[@J_Knight_](https://weibo.com/1929625262/profile?rightmod=1&wvr=6&mod=personinfo&is_all=1)ï¼šæœ¬æ–‡åˆ†äº«äº†ä¸€ä¸ª Flutter ä¸ MLKit ç»“åˆèµ·æ¥çš„ Demoï¼šç»™åç‰‡æ‹ç…§åæå–å…¶ä¸­çš„é‚®ä»¶åœ°å€ã€‚å…·ä½“ä»ä¸‹é¢ä¸‰ä¸ªæ­¥éª¤æ¥å±•å¼€ï¼š
1. ç…§ç›¸ï¼ˆä½¿ç”¨ Flutter çš„ camera packageï¼‰
2. ä½¿ç”¨ MLKit æå–ç…§ç‰‡ä¸­çš„æ–‡å­—ï¼ˆä½¿ç”¨ textRecognizer å®ä¾‹æ¥æå–å‡ºå›¾ç‰‡ä¸­çš„æ–‡å­—ï¼‰
3. å¯»æ‰¾æ–‡å­—ä¸­çš„é‚®ä»¶åœ°å€ï¼ˆä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼‰

è€Œä¸”åœ¨æ¯ä¸€æ­¥éª¤ä½œè€…éƒ½æä¾›äº†ç›¸å…³ä»£ç ï¼Œå¹¶åœ¨æ–‡ç« ä¸­æä¾›äº† Demo åœ°å€ï¼š[Business-Card-Mail-Extractor](https://github.com/DaemonLoki/Business-Card-Mail-Extractor)

### ğŸŒŸ ğŸ• [dna --- ä¸€ä¸ª dart åˆ° native çš„è¶…çº§é€šé“](https://juejin.im/post/5e5f1d41518825495b29a05b)

[@è€é©´](https://www.weibo.com/6090610445)ï¼šFlutter æœ€è¿‘æ˜¯è¶Šæ¥è¶Šç«äº†ï¼Œæœ‰è¶Šæ¥è¶Šå¤šçš„å¤§å‚å¼€å§‹è¿›è¡Œå°è¯•ã€‚

dna å°±æ˜¯é¥¿äº†ä¹ˆå›¢é˜Ÿé’ˆå¯¹ Flutter ä½¿ç”¨ä¸­çš„ç—›ç‚¹ï¼šåŸç”Ÿèƒ½åŠ›çš„è°ƒç”¨ï¼Œåšçš„ä¸€ä¸ª channel ç±»å‹çš„æ¡†æ¶ã€‚æœ¬æ–‡ä¸­ä¹Ÿå™è¿°äº†åœ¨ Android å’Œ iOS ä¸‹çš„å®ç°çš„ä¸€äº›å…·ä½“ç»†èŠ‚ï¼Œæœ‰å…´è¶£çš„åŒå­¦ä¹Ÿå¯ä»¥å­¦ä¹ å‚è€ƒä¸€æ³¢ã€‚

### ğŸ• [My experience replacing CocoaPods with SwiftPM](https://www.jessesquires.com/blog/replacing-cocoapods-with-swiftpm)

[@anotheren](https://github.com/anotheren)ï¼šXcode 11 ä¸­å·²ç»è‡ªå¸¦é›†æˆäº† Swift Package Managerï¼Œéšç€è¶Šæ¥è¶Šå¤šç¬¬ä¸‰æ–¹åº“çš„æ”¯æŒï¼Œåˆ‡æ¢åˆ° SPM å·²ç»é€æ¸æˆä¸ºå¯èƒ½ã€‚æœ¬æ–‡ä»‹ç»äº†å½“å‰åˆ‡æ¢åˆ° SPM å­˜åœ¨çš„ä¼˜åŠ¿ä¸ä¸è¶³ï¼Œç°åœ¨ä¸»è¦å½±å“çš„é—®é¢˜è¿˜æœ‰ï¼š
1. ä¸æ”¯æŒ Objective-C å’Œ Swift çš„æ··åˆä½¿ç”¨
2. ä¸æ”¯æŒèµ„æºæ–‡ä»¶

### ğŸ¢ [æ·±å…¥å‰–æ WebKit](https://ming1016.github.io/2017/10/11/deeply-analyse-webkit/#more)

[@kyo](https://github.com/KyoLi)ï¼šè™½ç„¶è‹¹æœä» iOS 8 å¼€å§‹å°±å¼•å…¥äº† WKWebViewï¼Œä½†åœ¨è¿‡å»å¾ˆé•¿ä¸€æ®µæ—¶é—´é‡Œæ˜¯å…è®¸ UIWebview å’Œ WKWebView å…±å­˜çš„ã€‚è‹¹æœä» iOS 13 å¼€å§‹å°† UIWebview åˆ—ä¸º Deprecated APIï¼Œæ„å‘³ç€å¼€å‘è€…è®²ä¸å¾—ä¸å‡çº§è‡³ WKWebViewã€‚è€Œ WKWebView å’Œ UIWebView æ˜¯å®Œå…¨ä¸åŒçš„ã€‚å¦‚æœæƒ³è¦æ›´å¥½çš„äº†è§£ WKWebViewï¼Œé‚£ä¹ˆå°±æœ‰å¿…è¦æ·±å…¥äº†è§£ä¸€ä¸‹ WebKitã€‚æœ¬æ–‡æ˜¯ @æˆ´é“­ è€å¸ˆå…³äº WebKit çš„ä¸€ç¯‡æ–‡ç« ï¼Œå¯¹äºå‡çº§è‡³ WKWebView é‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼Œæˆ–è€…æƒ³æ›´æ·±å…¥äº†è§£ WebKit ï¼Œè¿™é‡Œå¯èƒ½å°±æœ‰ä½ æƒ³è¦çš„ç­”æ¡ˆã€‚

> æ¨èäººï¼š[@sigsegv](https://juejin.im/user/5a3123a26fb9a044fa19dc7b)

### ğŸ• [iPhoneå¯ä»¥è¿è¡ŒAndroidäº†](https://mp.weixin.qq.com/s/hYjmPNxlX8P_BiEo4LveJQ)

[@EyreFree](https://github.com/EyreFree)ï¼šProject Sandcastleï¼ˆæ²™å ¡è®¡åˆ’ï¼Œé¡¹ç›®åœ°å€ï¼š[https://projectsandcastle.org/](https://projectsandcastle.org/)ï¼‰ï¼Œç›®å‰æ”¯æŒåœ¨ iPhone7 / 7 Plus è®¾å¤‡ä¸Šè¿è¡Œ Androidï¼Œæœ¬æ–‡è®°å½•äº†ä½œè€…å®Œæ•´çš„å°è¯•è¿‡ç¨‹ï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥çœ‹ä¸€ä¸‹ã€‚

## å·¥å…·

### [MultipeerKit](https://github.com/insidegui/MultipeerKit)

[@å«ç¬‘é¥®ç ’éœœ](https://weibo.com/chinafishnews/)ï¼šMultipeerKit æ˜¯ä¸€ä¸ª Swift è½¯ä»¶åŒ…ï¼Œå®ƒå…è®¸ iOSã€macOS å’Œ tvOS è®¾å¤‡é€šè¿‡ Wi-Fi ç½‘ç»œï¼Œç‚¹å¯¹ç‚¹ Wi-Fi å’Œè“ç‰™åœ¨å®ƒä»¬ä¹‹é—´äº¤æ¢æ•°æ®ã€‚å¯ä»¥é€šè¿‡æŸ¥çœ‹ Public API æ–‡ä»¶å¤¹ä¸­çš„ Swift æ–‡ä»¶ï¼Œäº†è§£ä½¿ç”¨ MultipeerKit çš„æ›´å¤šä¿¡æ¯ã€‚

### [Xcode Build Settings](https://xcodebuildsettings.com/)
[@AidenRao](https://weibo.com/AidenRao)ï¼šBuild Settings æœ‰æ•°ç™¾ç§é…ç½®ï¼Œè¿™ä¸ªç½‘ç«™æ•´ç†äº†æ¯ä¸€ä¸ªé…ç½®çš„å«ä¹‰ï¼Œå¯ä»¥éšæ—¶ç”¨æ¥æŸ¥è¯¢ã€‚ç»“åˆ [Mattt](https://github.com/mattt) çš„ [Xcode Build Configuration Files](https://nshipster.com/xcconfig/)ï¼Œäº†è§£ä½¿ç”¨ xcconfig æ¥ç®¡ç† APP çš„ Build Settingsã€‚


## å†…æ¨

è€å¸æœºå‘¨æŠ¥å›¢é˜Ÿè”åˆçŸ¥è¯†å°é›†å’Œ SwiftGG ç¿»è¯‘ç»„æ”¶å½•äº†ä¸€ä»½é è°±çš„å†…æ¨èŒä½ã€‚

å¦‚æœä½ æƒ³**æ‰¾å·¥ä½œ**ï¼Œç‚¹è¿™é‡Œï¼šhttps://www.yuque.com/iosalliance/article/bhutav

å¦‚æœä½ æƒ³**æ‹›äºº**ï¼Œç‚¹è¿™é‡Œï¼šhttps://www.yuque.com/iosalliance/article/ycyhf3

å½“ç„¶ï¼Œä¹Ÿæ¬¢è¿ä½ å…³æ³¨æˆ‘ä»¬æ¯ä¸€æœŸçš„å‘¨æŠ¥ï¼Œæˆ‘ä»¬ä¼šåœ¨æ¯æœŸå‘¨æŠ¥åº•éƒ¨åŠæ—¶æ›´æ–°ç¼–è¾‘å†…æ¨å²—ä½ã€‚

## å…³æ³¨æˆ‘ä»¬

æˆ‘ä»¬å¼€é€šäº†å…¬ä¼—å·ï¼Œæ¯æœŸå‘å¸ƒæ—¶å…¬ä¼—å·ï¼ˆOldDriverWeeklyï¼‰ä¼šæ¨é€æ¶ˆæ¯ï¼Œæ¬¢è¿å…³æ³¨ã€‚

![](https://github.com/SwiftOldDriver/iOS-Weekly/blob/master/assets/qrcode_for_wechat.jpg?raw=true)

åŒæ—¶ä¹Ÿæ”¯æŒäº† RSS è®¢é˜…ï¼šhttps://github.com/SwiftOldDriver/iOS-Weekly/releases.atom ã€‚

## è¯´æ˜

ğŸš§ è¡¨ç¤ºéœ€ç¿»å¢™ï¼ŒğŸŒŸ è¡¨ç¤ºç¼–è¾‘æ¨è

é¢„è®¡é˜…è¯»æ—¶é—´ï¼šğŸ å¾ˆå¿«å°±èƒ½è¯»å®Œï¼ˆ1 - 10 minsï¼‰ï¼›ğŸ• ä¸­ç­‰ ï¼ˆ10 - 20 minsï¼‰ï¼›ğŸ¢ æ…¢ï¼ˆ20+ minsï¼‰

