# è€å¸æœº iOS å‘¨æŠ¥ #205 | 2022-06-20

> helloï¼Œå¤§å®¶å¥½ï¼Œå¤±è¸ªäº†ä¸¤æœŸï¼Œè€å¸æœºæŠ€æœ¯å‘¨æŠ¥åˆå›æ¥äº†ã€‚æˆ‘ä»¬æ²¡æœ‰è·‘è·¯ï¼Œåªæ˜¯æœ€è¿‘ä¸¤å‘¨éƒ½åœ¨å¿™ WWDC çš„æ´»åŠ¨ï¼Œå®åœ¨æ²¡æœ‰ç²¾åŠ›æŠ½å‡ºæ—¶é—´æ¥æ•´ç†å‘¨æŠ¥ Orz...
>
> ç¬¬ä¸€ä¸ªæ´»åŠ¨æ˜¯ wwdc.playgroundï¼Œæˆ‘ä»¬å’Œ SwiftGGã€T æ²™é¾™ä¸€èµ·ä¸¾åŠäº†ä¸€æ¬¡çº¿ä¸ŠæŠ€æœ¯æ²™é¾™æ´»åŠ¨ï¼Œæ²¡æœ‰èµ¶ä¸Šçš„å¯ä»¥å…ˆå»ã€Œè€å¸æœºæŠ€æœ¯ã€è§†é¢‘å·çœ‹ç›´æ’­å›æ”¾ï¼Œç¨åä¼šå†™ä¸ªæ€»ç»“æ–‡ç»™åˆ°å¤§å®¶ã€‚è¿™æ¬¡æ´»åŠ¨ä¸€å…±ç´¯è®¡å…¨ç½‘æœ‰å‡ ä¸‡å¼€å‘è€…å…³æ³¨ï¼Œéå¸¸æ„Ÿè°¢å¤§å®¶çš„æ”¯æŒã€‚
> 
> å¦å¤–ä¸€ä¸ªå°±æ˜¯[ã€ŠWWDC22 å†…å‚ã€‹](https://xiaozhuanlan.com/wwdc22)äº†ï¼Œä¸ºäº†èƒ½è¶…è¶Šå¾€å¹´çš„è´¨é‡ï¼Œä»Šå¹´æˆ‘ä»¬ç»„å»ºäº†ä¸€ä¸ª 30 äººçš„å®¡æ ¸å›¢é˜Ÿ[ä¸¥æ§è´¨é‡](https://xiaozhuanlan.com/topic/5639708142)ï¼ŒåŠ ä¸Š wwdc.playground å‰æœŸäº‹æƒ…ç‰¹åˆ«å¤šï¼Œæ‰€ä»¥æ€»ä½“è¿›åº¦æ¯”å»å¹´æ»¡äº†ä¸€äº›ï¼Œå¸Œæœ›å¤§å®¶å¯ä»¥ç†è§£ä¸€ä¸‹ ~ ç›®å‰è®¢é˜…ä»·æ˜¯ 29.9ï¼ˆä½äºäº”æŠ˜ï¼‰ï¼Œæ¬¢è¿å¤§å®¶å‰å¾€è®¢é˜…~ åç»­ä¼šæŒç»­å¼€å§‹æ›´æ–°ï¼Œé¢„è®¡ä¼šæœ‰ 80 - 100 ç¯‡å·¦å³çš„æ–‡ç« ã€‚

![ios-weekly](https://github.com/SwiftOldDriver/iOS-Weekly/blob/master/assets/ios-weekly.png?raw=true)
è€å¸æœº iOS å‘¨æŠ¥ï¼Œåªä¸ºä½ å‘ˆç°æœ‰ä»·å€¼çš„ä¿¡æ¯ã€‚

ä½ ä¹Ÿå¯ä»¥ä¸ºè¿™ä¸ªé¡¹ç›®å‡ºä¸€ä»½åŠ›ï¼Œå¦‚æœå‘ç°æœ‰ä»·å€¼çš„ä¿¡æ¯ã€æ–‡ç« ã€å·¥å…·ç­‰å¯ä»¥åˆ° [Issues](https://github.com/SwiftOldDriver/iOS-Weekly/issues) é‡Œæç»™æˆ‘ä»¬ï¼Œæˆ‘ä»¬ä¼šå°½å¿«å¤„ç†ã€‚è®°å¾—å†™ä¸Šæ¨èçš„ç†ç”±å“¦ã€‚æœ‰å»ºè®®å’Œæ„è§ä¹Ÿæ¬¢è¿åˆ° [Issues](https://github.com/SwiftOldDriver/iOS-Weekly/issues) æå‡ºã€‚

## ã€ŠWWDC22 å†…å‚ã€‹

### ğŸŒŸ [ã€WWDC22 10127/10131ã€‘ä½¿ç”¨ RoomPlan æ‰«æåˆ›å»ºå‚æ•°åŒ–ä¸‰ç»´å®¤å†…åœºæ™¯](https://xiaozhuanlan.com/topic/8127504396)

æœ¬æ–‡å°†ä¸»è¦èšç„¦äº Apple çš„ AR/MR æ–° APIï¼šRoomPlan ã€‚å…¨æ–‡å…±åˆ†ä¸º 3 ä¸ªéƒ¨åˆ†ï¼š

ç¬¬ä¸€éƒ¨åˆ†æ˜¯ Apple çš„ AR/MR æŠ€æœ¯å‘å±•å›é¡¾ï¼ŒåŒ…æ‹¬ RoomPlan å’Œ Object Capture æŠ€æœ¯èƒŒåçš„åŸç†ç®€ä»‹ã€‚

ç¬¬äºŒéƒ¨åˆ†æ˜¯å¯¹ RoomPlan æŠ€æœ¯çš„ä»‹ç»ï¼ŒåŒ…æ‹¬å¦‚ä½•ä½¿ç”¨å®˜æ–¹ API ï¼Œå¿«é€Ÿåœ¨æ‚¨çš„ App ä¸­ä½¿ç”¨ RoomPlanï¼Œä»¥åŠå¦‚ä½•é€šè¿‡æ•°æ® API è‡ªå®šä¹‰ RoomPlan çš„ä½¿ç”¨ã€‚

æœ€åä¸€éƒ¨åˆ†æ˜¯å…³äº AR/MR åº”ç”¨è®¾è®¡å®è·µçš„ç›¸å…³å»ºè®®ã€‚

### ğŸŒŸ [ã€WWDC22 10025ã€‘VisionKit çš„æœºå™¨è§†è§‰æ–¹æ¡ˆï¼Œæ›´æ™ºèƒ½çš„æ•è·æ–‡æœ¬ä¸æ¡ç ](https://xiaozhuanlan.com/topic/8205316479)

æœ¬æ–‡å°†ä¸å¤§å®¶ä¸€åŒè®¤è¯† VisionKit ä¸­çš„ `DataScannerViewController`ã€‚é€šè¿‡ç®€å•çš„ Swift API æ¥å®æ—¶çš„æ•è·è§†é¢‘æºä¸­çš„æ–‡æœ¬ã€æ¡ç ã€‚å°†å±•ç¤ºå¦‚ä½•æ§åˆ¶ç¨‹åºæ•è·çš„å†…å®¹ï¼Œä»¥åŠå¦‚ä½•å¯ç”¨ç”¨æˆ·æŒ‡å¯¼ã€çªå‡ºæ˜¾ç¤ºç­‰ã€‚

## ï£¿ Developer - è®¾è®¡å¼€å‘åŠ é€Ÿå™¨

### [WWDC22 è®²åº§é›†é”¦](https://developer.apple.com/cn/accelerator/)

2022 å¹´ 6 æœˆ 28 æ—¥è‡³ 29 æ—¥ï¼ˆæŠ¥åæˆªæ­¢ 6 æœˆ 27 æ—¥ï¼‰

ã€Œï£¿ Developer - è®¾è®¡å¼€å‘åŠ é€Ÿå™¨ã€ç²¾é€‰äº† WWDC22 å…¬å¸ƒçš„æœ€æ–°æŠ€æœ¯ï¼Œé‚€è¯· Apple è®¾è®¡å’ŒæŠ€æœ¯å¸ƒé“å¸ˆä¸ºä¸­å›½å¼€å‘è€…å¸¦æ¥ä¸­æ–‡è®²åº§é›†é”¦ã€‚é€šè¿‡æœ¬æ¬¡æ´»åŠ¨æ‚¨å¯ä»¥äº†è§£æœ€æ–°æŠ€æœ¯è¶‹åŠ¿ã€å­¦ä¹ å¹³å°çš„æœ€æ–°åŠŸèƒ½ï¼Œä»è€Œæ‰“é€ æ›´ä¸ºå“è¶Šçš„ App ä½“éªŒã€‚

**ä»æœ¬æ¬¡æ´»åŠ¨å¼€å§‹ï¼Œé™¤ç‰¹æ®Šæ´»åŠ¨å•ç‹¬è¯´æ˜ä»¥å¤–ï¼ŒåŠ é€Ÿå™¨æ´»åŠ¨ä¼šå¼€æ”¾ç»™æ‰€æœ‰Apple Developer Program æˆå‘˜ï¼ˆåŒ…å«å…è´¹çš„ç”¨æˆ·ï¼‰ã€‚**

![](https://user-images.githubusercontent.com/11873526/174491806-a2ca1010-dd77-4b19-9bcd-4ab690f736d8.jpeg)

## æ–‡ç« 

### ğŸ [èŠèŠ libffi çš„è°ƒç”¨æµç¨‹](https://www.jianshu.com/p/4644b1584a1f)

[@xuyafei](https://github.com/xiaofei86) FFI (Foreign Function Interface) æ˜¯ç”¨æ¥ä¸å…¶å®ƒè¯­è¨€äº¤äº’çš„æ¥å£ï¼Œæ˜¯å®ç°è·¨è¯­è¨€è°ƒç”¨çš„ä¸»è¦æ–¹å¼ä¹‹ä¸€ã€‚å…¶é€šè¿‡ç›´æ¥å°†å…¶å®ƒè¯­è¨€çš„æ¥å£å†…åµŒå®ç°æ›´é«˜çš„æ‰§è¡Œæ•ˆç‡ï¼Œè€Œé€šè¿‡è¿›ç¨‹é—´é€šä¿¡ (IPC) æˆ–ç½‘ç»œé€šä¿¡ (RPC, RESTful ç­‰) åˆ™è‡³å°‘éœ€è¦ä¸¤ä¸ªç‹¬ç«‹è¿›ç¨‹æ‰èƒ½å®ç°ã€‚

libffi æ˜¯ ffi çš„ä¸»æµå®ç°æ–¹å¼ï¼Œä¸»è¦ä½¿ç”¨ C å’Œæ±‡ç¼–å®ç°ï¼Œæœ€å¸¸ç”¨ä½œç¼–è¯‘è¯­è¨€å’Œè§£é‡Šè¯­è¨€å®ç°ä¹‹é—´çš„æ¡¥æ¥æŠ€æœ¯ã€‚æœ¬æ–‡ä» libffi çš„è°ƒç”¨æµç¨‹å‡ºå‘ï¼Œå¸¦å¤§å®¶äº†è§£ ffi_call å’Œ ffi_closure æ˜¯æ€æ ·å¸®åŠ©æˆ‘ä»¬å®ç°åŠ¨æ€è°ƒç”¨çš„ã€‚

###  [ä»å“åº”å¼ç¼–ç¨‹åˆ° Combine å®è·µ](https://mp.weixin.qq.com/s/b_q6R64xkq8Rl9EiIde4MA)

[@zvving](https://github.com/zvving)ï¼šå“åº”å¼ç¼–ç¨‹ç”±æ¥å·²ä¹…ï¼Œè‹¹æœé’¦å®šçš„ Combine æ­£æ˜¯ Reactive Streams è§„èŒƒçš„ä¸€ç§å®ç°ã€‚ä¼´éšç€å®˜æ–¹ SwiftUI çš„æ¨å¹¿ï¼Œå£°æ˜å¼å¸ƒå±€+å“åº”å¼ç¼–ç¨‹ä¹Ÿå› å…¶ç®€æ´ã€ç›´è§‚ã€æ˜“æµ‹ã€æ˜“é‡ç”¨çš„ä¼˜åŠ¿æ¸æ¸æµè¡Œã€‚æœ¬æ–‡æ­£æ˜¯å­—èŠ‚è·³åŠ¨éŸ³ä¹å›¢é˜Ÿåœ¨å¤§é¡¹ç›®ä¸­è½åœ°å“åº”å¼ç¼–ç¨‹çš„é€‰å‹æ€è€ƒå’Œæœ€ä½³å®è·µï¼Œéå¸¸å€¼å¾—å‚è€ƒã€‚

### ğŸ• [Swift ä¸­çš„å¹»è±¡ç±»å‹(phantom types)](https://mp.weixin.qq.com/s/HLWu24LrfqSfbhd9x6Q_ag)

[@äº«è€³å…ˆæ£®](https://github.com/iblacksun)ï¼š`Phantom Types` æ˜¯ä¸€ç§ç¼–ç æŠ€å·§ï¼Œè®©ä½ å¯ä»¥åˆ©ç”¨ Swift çš„å¼ºç±»å‹ç‰¹æ€§å†™å‡ºæ›´å®‰å…¨çš„ä»£ç ï¼Œæœ¬æ–‡ä»‹ç»äº†ä¸€äº›å¯ä½¿ç”¨ Phantom Types çš„åœºæ™¯åŠä½¿ç”¨æŠ€å·§ã€‚

å»ºè®®ç»“åˆä¸‹é¢æ–‡ç« ä¸€èµ·é˜…è¯»ï¼š
[Phantom Types in Swift](https://zhuanlan.zhihu.com/p/35696032)
[Swift tricks-Phantom Types](https://www.jianshu.com/p/72cd63cf9393)

> æ¨èäººï¼š@Swiftç¤¾åŒºï¼Œæœ¬æ–‡ç¿»è¯‘è‡ª [swiftbysundell.com](https://www.swiftbysundell.com/articles/phantom-types-in-swift/)


### ğŸ• [æ¢ç§˜ AutoreleasePool å®ç°åŸç†](https://mp.weixin.qq.com/s/fcS6aiddSjeQSfjMY-8Oow)

[@å«ç¬‘é¥®ç ’éœœ](https://weibo.com/chinafishnews/)ï¼šæ— è®ºæ˜¯ MRC è¿˜æ˜¯ ARC æ—¶ä»£ï¼Œautorelease æœ€å¤§çš„ä½œç”¨ï¼Œæ˜¯åœ¨å¤§é‡åˆ›å»ºå¯¹è±¡çš„åŒæ—¶ï¼Œé€šè¿‡ä¿®é¥°è®©å†…å­˜å¾—åˆ°æå‰é‡Šæ”¾ï¼Œä»è€Œé™ä½å†…å­˜å³°å€¼ã€‚æœ¬æ–‡å°±æ—¨åœ¨é€šè¿‡åˆ†ææºç äº†è§£å†…éƒ¨æ˜¯å¦‚ä½•å®ç°çš„ã€‚

### ğŸ¢ [èŠ‚æ—¥çŒ®ç¤¼ï¼šFlutterå›¾ç‰‡åº“é‡ç£…å¼€æº](https://mp.weixin.qq.com/s/WnpDbDvEVNMj_96ulnuWkQ)

[@CrazyCoderShi](https://github.com/CrazyCoderShi): å»å¹´ï¼Œé—²é±¼æŠ€æœ¯å›¢é˜Ÿæ–°ä¸€ä»£å›¾ç‰‡åº“ PowerImage åœ¨ç»è¿‡ä¸€ç³»åˆ—ç°åº¦ã€é—®é¢˜ä¿®å¤ã€ä»£ç è°ƒä¼˜åï¼Œå·²å…¨é‡ç¨³å®šåº”ç”¨äºé—²é±¼ã€‚ç›¸å¯¹äºä¸Šä¸€ä»£ IFImageï¼ŒPowerImage ç»è¿‡è¿›ä¸€æ­¥çš„æ¼”è¿›ï¼Œé€‚åº”äº†æ›´å¤šçš„ä¸šåŠ¡åœºæ™¯ä¸æœ€æ–°çš„ flutter ç‰¹æ€§ï¼Œè§£å†³äº†ä¸€ç³»åˆ—ç—›ç‚¹. 

### ğŸ• [Auto-generating, Auto-hosting, and Auto-updating DocC Documentation](https://blog.swiftpackageindex.com/posts/auto-generating-auto-hosting-and-auto-updating-docc-documentation/)

[@å››å¨˜](https://kemchenj.github.io/)ï¼šWWDC 21 æ¨å‡ºäº† docc ä¹‹åï¼Œé€æ¸æˆä¸ºç¤¾åŒºä¸»æµçš„æ–‡æ¡£ç”Ÿæˆå™¨ï¼Œä½†æ¥å…¥æ—¶æ¯”è¾ƒéº»çƒ¦çš„æ˜¯éœ€è¦æ·»åŠ  docc ä½œä¸ºä¾èµ–ï¼Œå¹¶ä¸”éœ€è¦é€šè¿‡ GitHub Page æˆ–è€… Web æœåŠ¡å™¨è¿›è¡Œéƒ¨ç½²ã€‚

Swift Package Index ä¸ºæ­¤æä¾›äº†ä¸€ä¸ªæ–°åŠŸèƒ½ï¼Œå¯ä»¥è‡ªåŠ¨éƒ¨ç½²å’Œæ›´æ–°ä½ çš„ docc æ–‡æ¡£ï¼Œåªéœ€è¦åœ¨ä»“åº“å†…æ·»åŠ ä¸€ä¸ªå£°æ˜æ–‡ä»¶å³å¯ã€‚

ç¤¾åŒºçƒ­é—¨çš„ Kingfisher ä¹Ÿå·²ç»[é‡‡ç”¨äº†è¿™ç§æ–¹å¼éƒ¨ç½²æ–‡æ¡£](https://swiftpackageindex.com/onevcat/Kingfisher/master/documentation/kingfisher)ï¼Œ[æ¥å…¥çš„ PR](https://github.com/onevcat/Kingfisher/pull/1948) å¤§å®¶ä¹Ÿå¯ä»¥æ‹¿æ¥å‚è€ƒã€‚

### ğŸ¢ [ViewBuilder ç ”ç©¶](https://mp.weixin.qq.com/s/4TwfyhWHVjm3Dv-Vz7MYvg)

[@AidenRao](https://weibo.com/AidenRao)ï¼šä½œè€…é€šè¿‡ä¸Šä¸‹ä¸¤ç¯‡åšæ–‡ï¼Œå¯¹æ„å»º SwiftUI è§†å›¾çš„ ViewBuilder è¿›è¡Œæ¢è®¨ã€‚

[ä¸Šç¯‡](https://mp.weixin.qq.com/s/4TwfyhWHVjm3Dv-Vz7MYvg)å°†ä»‹ç» ViewBuilder èƒŒåçš„å®ç°è€… â€”â€” result builders

[ä¸‹ç¯‡](https://mp.weixin.qq.com/s/E6VKDbgKerFf0P20N1DsuA)å°†é€šè¿‡å¯¹ ViewBuilder çš„ä»¿åˆ¶ï¼Œè¿›ä¸€æ­¥åœ°æ¢å¯» SwiftUI è§†å›¾çš„ç§˜å¯†ã€‚

## å†…æ¨

è€å¸æœºå‘¨æŠ¥å›¢é˜Ÿè”åˆçŸ¥è¯†å°é›†å’Œ SwiftGG ç¿»è¯‘ç»„æ”¶å½•äº†ä¸€ä»½é è°±çš„å†…æ¨èŒä½ã€‚

å¦‚æœä½ æƒ³**æ‰¾å·¥ä½œ**ï¼Œç‚¹è¿™é‡Œï¼šhttps://www.yuque.com/iosalliance/article/bhutav

å¦‚æœä½ æƒ³**æ‹›äºº**ï¼Œç‚¹è¿™é‡Œï¼šhttps://www.yuque.com/iosalliance/article/ycyhf3

å½“ç„¶ï¼Œä¹Ÿæ¬¢è¿ä½ å…³æ³¨æˆ‘ä»¬æ¯ä¸€æœŸçš„å‘¨æŠ¥ï¼Œæˆ‘ä»¬ä¼šåœ¨æ¯æœŸå‘¨æŠ¥åº•éƒ¨åŠæ—¶æ›´æ–°ç¼–è¾‘å†…æ¨å²—ä½ã€‚

## å…³æ³¨æˆ‘ä»¬

æˆ‘ä»¬æ˜¯ã€Œè€å¸æœºæŠ€æœ¯å‘¨æŠ¥ã€ï¼Œä¸€ä¸ªæŒç»­è¿½æ±‚ç²¾å“ iOS å†…å®¹çš„æŠ€æœ¯å…¬ä¼—å·ï¼Œæ¬¢è¿å…³æ³¨ã€‚

**å…³æ³¨æœ‰ç¤¼ï¼Œå…³æ³¨ã€è€å¸æœºæŠ€æœ¯ã€‘ï¼Œå›å¤ã€Œ2022ã€ï¼Œé¢†å– WWDC21 åŠä»¥å‰çš„å†…å‚**

![](https://github.com/SwiftOldDriver/iOS-Weekly/blob/master/assets/qrcode_for_wechat.jpg?raw=true)

åŒæ—¶ä¹Ÿæ”¯æŒäº† RSS è®¢é˜…ï¼šhttps://github.com/SwiftOldDriver/iOS-Weekly/releases.atom ã€‚

## è¯´æ˜

ğŸš§ è¡¨ç¤ºéœ€æŸå·¥å…·ï¼ŒğŸŒŸ è¡¨ç¤ºç¼–è¾‘æ¨è

é¢„è®¡é˜…è¯»æ—¶é—´ï¼šğŸ å¾ˆå¿«å°±èƒ½è¯»å®Œï¼ˆ1 - 10 minsï¼‰ï¼›ğŸ• ä¸­ç­‰ ï¼ˆ10 - 20 minsï¼‰ï¼›ğŸ¢ æ…¢ï¼ˆ20+ minsï¼‰
